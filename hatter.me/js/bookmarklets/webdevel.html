<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd"> 
<html> 
<head> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<title>Web Development Bookmarklets</title> 
<link rel="stylesheet" href="squarefree.css" type="text/css"> 
</head> 
 
<body> 
 
<div style="text-align: center"> 
<a href="./">Bookmarklets Home</a> 
| <a href="pagelinks.html">Links</a> 
| <a href="forms.html">Forms</a> 
| <a href="pagedata.html">Text and Data</a> 
| <a href="zap.html">Zap</a> 
| <a href="webdevel.html">Web Development</a> 
| <a href="validation.html">Validation</a> 
| <a href="misc.html">Misc</a> 
</div> 
 
<hr> 
 
<script type="text/javascript"> 
var ua = navigator.userAgent, d, s="";
if (/Gecko\/200305(\d\d)/.exec(ua))
{
  day = parseInt(RegExp.$1, 10)
  if (16 <= day && day < 22)
  {
    s = "<p class='ack'><b>You are using a version of Mozilla in which many bookmarklets do not work.<\/b>  Mozilla builds between May 16 and May 22 (including Mozilla Firebird 0.6, released May 16) suffer from bug 205989 and bug 206026.<br><br><b>Please upgrade<\/b> to one of the following:<br>"
    s += "<a href='http://ftp.mozilla.org/pub/firebird/nightly/latest-trunk/'>A Mozilla Firebird nightly<\/a> (recommended)<br>";
    s += "<a href='http://ftp.mozilla.org/pub/mozilla/nightly/latest-trunk/'>A Mozilla nightly<\/a><br>";
    s += "<a href='http://www.mozilla.org/releases/'>Mozilla 1.4 RC1 or a later release<\/a><\/p>";
    document.write(s);
  }
}
</script> 
<h3>Web Development Bookmarklets</h3> 
<p>These bookmarklets let you see how a web page is coded without digging through the source, debug problems in web pages quickly, and experiment with CSS or JS without editing the actual page.</p> 
 
<p class=smallitalic>(To keep <a href="./">bookmarklets</a> in order to use them on other web pages, drag them to your <a href="personaltoolbar.html">Bookmarks Toolbar</a>.  Or, <a href="importall.html">install them all at once</a>.)</p> 
 
<div class=summarytable><table class=summarytable> 
 
<thead> 
<tr> 
<th>Bookmarklet</th> 
<th>Description</th> 
<th colspan=4>Works in</th> 
</tr> 
</thead> 
 
<tr> 
<td><a class="bml"
href="javascript:with(window.open(&quot;&quot;,&quot;_blank&quot;,&quot;width=&quot;+screen.width*.6+&quot;,left=&quot;+screen.width*.35+&quot;,height=&quot;+screen.height*.9+&quot;,resizable,scrollbars=yes&quot;)){document.write(&quot;&lt;!DOCTYPE HTML PUBLIC \&quot;-//W3C//DTD HTML 4.01//EN\&quot; \&quot;http://www.w3.org/TR/html4/strict.dtd\&quot;&gt;\n\n&lt;html onclick=\&quot;keepFocusInTextbox(event)\&quot;&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html; charset=iso-8859-1\&quot;&gt;\n&lt;title&gt;JavaScript Shell 1.4&lt;/title&gt;\n\n&lt;script type=\&quot;text/javascript\&quot;&gt;\nvar \nhistList = [\&quot;\&quot;], \nhistPos = 0, \n_scope = {}, \n_win, // a top-level context\nquestion,\n_in,\n_out,\ntooManyMatches = null,\nlastError = null;\n\nfunction refocus()\n{\n  _in.blur(); // Needed for Mozilla to scroll correctly.\n  _in.focus();\n}\n\nfunction init()\n{\n  _in = document.getElementById(\&quot;input\&quot;);\n  _out = document.getElementById(\&quot;output\&quot;);\n\n  _win = window;\n\n  if (opener &amp;&amp; !opener.closed)\n  {\n    println(\&quot;Using bookmarklet version of shell: commands will run in opener's context.\&quot;, \&quot;message\&quot;);\n    _win = opener;\n  }\n\n  initTarget();\n\n  recalculateInputHeight();\n  refocus();\n}\n\nfunction initTarget()\n{\n  _win.Shell = window;\n  _win.print = shellCommands.print;\n}\n\n\n// Unless the user is selected something, refocus the textbox.\n// (requested by caillon, brendan, asa)\nfunction keepFocusInTextbox(e) \n{\n  var g = e.srcElement ? e.srcElement : e.target; // IE vs. standard\n  \n  while (!g.tagName)\n    g = g.parentNode;\n  var t = g.tagName.toUpperCase();\n  if (t==\&quot;A\&quot; || t==\&quot;INPUT\&quot;)\n    return;\n    \n  if (window.getSelection) {\n    // Mozilla\n    if (String(window.getSelection()))\n      return;\n  }\n  else if (document.getSelection) {\n    // Opera? Netscape 4?\n    if (document.getSelection())\n      return;\n  }\n  else {\n    // IE\n    if ( document.selection.createRange().text )\n      return;\n  }\n  \n  refocus();\n}\n\nfunction inputKeydown(e) {\n  // Use onkeydown because IE doesn't support onkeypress for arrow keys\n\n  //alert(e.keyCode + \&quot; ^ \&quot; + e.keycode);\n\n  if (e.shiftKey &amp;&amp; e.keyCode == 13) { // shift-enter\n    // don't do anything; allow the shift-enter to insert a line break as normal\n  } else if (e.keyCode == 13) { // enter\n    // execute the input on enter\n    try { go(); } catch(er) { alert(er); };\n    setTimeout(function() { _in.value = \&quot;\&quot;; }, 0); // can't preventDefault on input, so clear it later\n  } else if (e.keyCode == 38) { // up\n    // go up in history if at top or ctrl-up\n    if (e.ctrlKey || caretInFirstLine(_in))\n      hist(true);\n  } else if (e.keyCode == 40) { // down\n    // go down in history if at end or ctrl-down\n    if (e.ctrlKey || caretInLastLine(_in))\n      hist(false);\n  } else if (e.keyCode == 9) { // tab\n    tabcomplete();\n    setTimeout(function() { refocus(); }, 0); // refocus because tab was hit\n  } else { }\n\n  setTimeout(recalculateInputHeight, 0);\n  \n  //return true;\n};\n\nfunction caretInFirstLine(textbox)\n{\n  // IE doesn't support selectionStart/selectionEnd\n  if (textbox.selectionStart == undefined)\n    return true;\n\n  var firstLineBreak = textbox.value.indexOf(\&quot;\\n\&quot;);\n  \n  return ((firstLineBreak == -1) || (textbox.selectionStart &lt;= firstLineBreak));\n}\n\nfunction caretInLastLine(textbox)\n{\n  // IE doesn't support selectionStart/selectionEnd\n  if (textbox.selectionEnd == undefined)\n    return true;\n\n  var lastLineBreak = textbox.value.lastIndexOf(\&quot;\\n\&quot;);\n  \n  return (textbox.selectionEnd &gt; lastLineBreak);\n}\n\nfunction recalculateInputHeight()\n{\n  var rows = _in.value.split(/\\n/).length\n    + 1 // prevent scrollbar flickering in Mozilla\n    + (window.opera ? 1 : 0); // leave room for scrollbar in Opera\n  \n  if (_in.rows != rows) // without this check, it is impossible to select text in Opera 7.60 or Opera 8.0.\n    _in.rows = rows;\n}\n\nfunction println(s, type)\n{\n  if((s=String(s)))\n  {\n    var newdiv = document.createElement(\&quot;div\&quot;);\n    newdiv.appendChild(document.createTextNode(s));\n    newdiv.className = type;\n    _out.appendChild(newdiv);\n    return newdiv;\n  }\n}\n\nfunction printWithRunin(h, s, type)\n{\n  var div = println(s, type);\n  var head = document.createElement(\&quot;strong\&quot;);\n  head.appendChild(document.createTextNode(h + \&quot;: \&quot;));\n  div.insertBefore(head, div.firstChild);\n}\n\n\nvar shellCommands = \n{\nload : function load(url)\n{\n  var s = _win.document.createElement(\&quot;script\&quot;);\n  s.type = \&quot;text/javascript\&quot;;\n  s.src = url;\n  _win.document.getElementsByTagName(\&quot;head\&quot;)[0].appendChild(s);\n  println(\&quot;Loading \&quot; + url + \&quot;...\&quot;, \&quot;message\&quot;);\n},\n\nclear : function clear()\n{\n  var CHILDREN_TO_PRESERVE = 3;\n  while (_out.childNodes[CHILDREN_TO_PRESERVE]) \n    _out.removeChild(_out.childNodes[CHILDREN_TO_PRESERVE]);\n},\n\nprint : function print(s) { println(s, \&quot;print\&quot;); },\n\n// the normal function, \&quot;print\&quot;, shouldn't return a value\n// (suggested by brendan; later noticed it was a problem when showing others)\npr : function pr(s) \n{ \n  shellCommands.print(s); // need to specify shellCommands so it doesn't try window.print()!\n  return s;\n},\n\nprops : function props(e, onePerLine)\n{\n  if (e === null) {\n    println(\&quot;props called with null argument\&quot;, \&quot;error\&quot;);\n    return;\n  }\n\n  if (e === undefined) {\n    println(\&quot;props called with undefined argument\&quot;, \&quot;error\&quot;);\n    return;\n  }\n\n  var ns = [\&quot;Methods\&quot;, \&quot;Fields\&quot;, \&quot;Unreachables\&quot;];\n  var as = [[], [], []]; // array of (empty) arrays of arrays!\n  var p, j, i; // loop variables, several used multiple times\n\n  var protoLevels = 0;\n\n  for (p = e; p; p = p.__proto__)\n  {\n    for (i=0; i&lt;ns.length; ++i)\n      as[i][protoLevels] = [];\n    ++protoLevels;\n  }\n\n  for(var a in e)\n  {\n    // Shortcoming: doesn't check that VALUES are the same in object and prototype.\n\n    var protoLevel = -1;\n    try\n    {\n      for (p = e; p &amp;&amp; (a in p); p = p.__proto__)\n        ++protoLevel;\n    }\n    catch(er) { protoLevel = 0; } // \&quot;in\&quot; operator throws when param to props() is a string\n\n    var type = 1;\n    try\n    {\n      if ((typeof e[a]) == \&quot;function\&quot;)\n        type = 0;\n    }\n    catch (er) { type = 2; }\n\n    as[type][protoLevel].push(a);\n  }\n\n  function times(s, n) { return n ? s + times(s, n-1) : \&quot;\&quot;; }\n\n  for (j=0; j&lt;protoLevels; ++j)\n    for (i=0;i&lt;ns.length;++i)\n      if (as[i][j].length) \n        printWithRunin(\n          ns[i] + times(\&quot; of prototype\&quot;, j), \n          (onePerLine ? \&quot;\\n\\n\&quot; : \&quot;\&quot;) + as[i][j].sort().join(onePerLine ? \&quot;\\n\&quot; : \&quot;, \&quot;) + (onePerLine ? \&quot;\\n\\n\&quot; : \&quot;\&quot;), \n          \&quot;propList\&quot;\n        );\n},\n\nblink : function blink(node)\n{\n  if (!node)                     throw(\&quot;blink: argument is null or undefined.\&quot;);\n  if (node.nodeType == null)     throw(\&quot;blink: argument must be a node.\&quot;);\n  if (node.nodeType == 3)        throw(\&quot;blink: argument must not be a text node\&quot;);\n  if (node.documentElement)      throw(\&quot;blink: argument must not be the document object\&quot;);\n\n  function setOutline(o) { \n    return function() {\n      if (node.style.outline != node.style.bogusProperty) {\n        // browser supports outline (Firefox 1.1 and newer, CSS3, Opera 8).\n        node.style.outline = o;\n      }\n      else if (node.style.MozOutline != node.style.bogusProperty) {\n        // browser supports MozOutline (Firefox 1.0.x and older)\n        node.style.MozOutline = o;\n      }\n      else {\n        // browser only supports border (IE). border is a fallback because it moves things around.\n        node.style.border = o;\n      }\n    }\n  } \n  \n  function focusIt(a) {\n    return function() {\n      a.focus(); \n    }\n  }\n\n  if (node.ownerDocument) {\n    var windowToFocusNow = (node.ownerDocument.defaultView || node.ownerDocument.parentWindow); // Moz vs. IE\n    if (windowToFocusNow)\n      setTimeout(focusIt(windowToFocusNow.top), 0);\n  }\n\n  for(var i=1;i&lt;7;++i)\n    setTimeout(setOutline((i%252)?'3px solid red':'none'), i*100);\n\n  setTimeout(focusIt(window), 800);\n  setTimeout(focusIt(_in), 810);\n},\n\nscope : function scope(sc)\n{\n  if (!sc) sc = {};\n  _scope = sc;\n  println(\&quot;Scope is now \&quot; + sc + \&quot;.  If a variable is not found in this scope, window will also be searched.  New variables will still go on window.\&quot;, \&quot;message\&quot;);\n},\n\nmathHelp : function mathHelp()\n{\n  printWithRunin(\&quot;Math constants\&quot;, \&quot;E, LN2, LN10, LOG2E, LOG10E, PI, SQRT1_2, SQRT2\&quot;, \&quot;propList\&quot;);\n  printWithRunin(\&quot;Math methods\&quot;, \&quot;abs, acos, asin, atan, atan2, ceil, cos, exp, floor, log, max, min, pow, random, round, sin, sqrt, tan\&quot;, \&quot;propList\&quot;);\n},\n\nans : undefined\n};\n\n\nfunction hist(up)\n{\n  // histList[0] = first command entered, [1] = second, etc.\n  // type something, press up --&gt; thing typed is now in \&quot;limbo\&quot;\n  // (last item in histList) and should be reachable by pressing \n  // down again.\n\n  var L = histList.length;\n\n  if (L == 1)\n    return;\n\n  if (up)\n  {\n    if (histPos == L-1)\n    {\n      // Save this entry in case the user hits the down key.\n      histList[histPos] = _in.value;\n    }\n\n    if (histPos &gt; 0)\n    {\n      histPos--;\n      // Use a timeout to prevent up from moving cursor within new text\n      // Set to nothing first for the same reason\n      setTimeout(\n        function() {\n          _in.value = ''; \n          _in.value = histList[histPos];\n          var caretPos = _in.value.length;\n          if (_in.setSelectionRange) \n            _in.setSelectionRange(caretPos, caretPos);\n        },\n        0\n      );\n    }\n  } \n  else // down\n  {\n    if (histPos &lt; L-1)\n    {\n      histPos++;\n      _in.value = histList[histPos];\n    }\n    else if (histPos == L-1)\n    {\n      // Already on the current entry: clear but save\n      if (_in.value)\n      {\n        histList[histPos] = _in.value;\n        ++histPos;\n        _in.value = \&quot;\&quot;;\n      }\n    }\n  }\n}\n\nfunction tabcomplete()\n{\n  /*\n   * Working backwards from s[from], find the spot\n   * where this expression starts.  It will scan\n   * until it hits a mismatched ( or a space,\n   * but it skips over quoted strings.\n   * If stopAtDot is true, stop at a '.'\n   */\n  function findbeginning(s, from, stopAtDot)\n  {\n    /*\n     *  Complicated function.\n     *\n     *  Return true if s[i] == q BUT ONLY IF\n     *  s[i-1] is not a backslash.\n     */\n    function equalButNotEscaped(s,i,q)\n    {\n      if(s.charAt(i) != q) // not equal go no further\n        return false;\n\n      if(i==0) // beginning of string\n        return true;\n\n      if(s.charAt(i-1) == '\\\\') // escaped?\n        return false;\n\n      return true;\n    }\n\n    var nparens = 0;\n    var i;\n    for(i=from; i&gt;=0; i--)\n    {\n      if(s.charAt(i) == ' ')\n        break;\n\n      if(stopAtDot &amp;&amp; s.charAt(i) == '.')\n        break;\n        \n      if(s.charAt(i) == ')')\n        nparens++;\n      else if(s.charAt(i) == '(')\n        nparens--;\n\n      if(nparens &lt; 0)\n        break;\n\n      // skip quoted strings\n      if(s.charAt(i) == '\\'' || s.charAt(i) == '\\\&quot;')\n      {\n        //dump(\&quot;skipping quoted chars: \&quot;);\n        var quot = s.charAt(i);\n        i--;\n        while(i &gt;= 0 &amp;&amp; !equalButNotEscaped(s,i,quot)) {\n          //dump(s.charAt(i));\n          i--;\n        }\n        //dump(\&quot;\\n\&quot;);\n      }\n    }\n    return i;\n  }\n\n  // XXX should be used more consistently (instead of using selectionStart/selectionEnd throughout code)\n  // XXX doesn't work in IE, even though it contains IE-specific code\n  function getcaretpos(inp)\n  {\n    if(inp.selectionEnd != null)\n      return inp.selectionEnd;\n      \n    if(inp.createTextRange)\n    {\n      var docrange = _win.Shell.document.selection.createRange();\n      var inprange = inp.createTextRange();\n      if (inprange.setEndPoint)\n      {\n        inprange.setEndPoint('EndToStart', docrange);\n        return inprange.text.length;\n      }\n    }\n\n    return inp.value.length; // sucks, punt\n  }\n\n  function setselectionto(inp,pos)\n  {\n    if(inp.selectionStart) {\n      inp.selectionStart = inp.selectionEnd = pos;\n    }\n    else if(inp.createTextRange) {\n      var docrange = _win.Shell.document.selection.createRange();\n      var inprange = inp.createTextRange();\n      inprange.move('character',pos);\n      inprange.select();\n    }\n    else { // err...\n    /*\n      inp.select();\n      if(_win.Shell.document.getSelection())\n        _win.Shell.document.getSelection() = \&quot;\&quot;;\n        */\n    }\n  }\n    // get position of cursor within the input box\n    var caret = getcaretpos(_in);\n\n    if(caret) {\n      //dump(\&quot;----\\n\&quot;);\n      var dotpos, spacepos, complete, obj;\n      //dump(\&quot;caret pos: \&quot; + caret + \&quot;\\n\&quot;);\n      // see if there's a dot before here\n      dotpos = findbeginning(_in.value, caret-1, true);\n      //dump(\&quot;dot pos: \&quot; + dotpos + \&quot;\\n\&quot;);\n      if(dotpos == -1 || _in.value.charAt(dotpos) != '.') {\n        dotpos = caret;\n//dump(\&quot;changed dot pos: \&quot; + dotpos + \&quot;\\n\&quot;);\n      }\n\n      // look backwards for a non-variable-name character\n      spacepos = findbeginning(_in.value, dotpos-1, false);\n      //dump(\&quot;space pos: \&quot; + spacepos + \&quot;\\n\&quot;);\n      // get the object we're trying to complete on\n      if(spacepos == dotpos || spacepos+1 == dotpos || dotpos == caret)\n      {\n        // try completing function args\n        if(_in.value.charAt(dotpos) == '(' ||\n (_in.value.charAt(spacepos) == '(' &amp;&amp; (spacepos+1) == dotpos))\n        {\n          var fn,fname;\n  var from = (_in.value.charAt(dotpos) == '(') ? dotpos : spacepos;\n          spacepos = findbeginning(_in.value, from-1, false);\n\n          fname = _in.value.substr(spacepos+1,from-(spacepos+1));\n  //dump(\&quot;fname: \&quot; + fname + \&quot;\\n\&quot;);\n          try {\n            with(_win.Shell._scope)\n              with(_win)\n                with(Shell.shellCommands)\n                  fn = eval(fname);\n          }\n          catch(er) {\n            //dump('fn is not a valid object\\n');\n            return;\n          }\n          if(fn == undefined) {\n             //dump('fn is undefined');\n             return;\n          }\n          if(fn instanceof Function)\n          {\n            // Print function definition, including argument names, but not function body\n            if(!fn.toString().match(/function .+?\\(\\) +\\{\\n +\\[native code\\]\\n\\}/))\n              println(fn.toString().match(/function .+?\\(.*?\\)/), \&quot;tabcomplete\&quot;);\n          }\n\n          return;\n        }\n        else\n          obj = _win;\n      }\n      else\n      {\n        var objname = _in.value.substr(spacepos+1,dotpos-(spacepos+1));\n        //dump(\&quot;objname: |\&quot; + objname + \&quot;|\\n\&quot;);\n        try {\n          with(_win.Shell._scope)\n            with(_win)\n                obj = eval(objname);\n        }\n        catch(er) {\n          printError(er); \n          return;\n        }\n        if(obj == undefined) {\n          // sometimes this is tabcomplete's fault, so don't print it :(\n          // e.g. completing from \&quot;print(document.getElements\&quot;\n          // println(\&quot;Can't complete from null or undefined expression \&quot; + objname, \&quot;error\&quot;);\n          return;\n        }\n      }\n      //dump(\&quot;obj: \&quot; + obj + \&quot;\\n\&quot;);\n      // get the thing we're trying to complete\n      if(dotpos == caret)\n      {\n        if(spacepos+1 == dotpos || spacepos == dotpos)\n        {\n          // nothing to complete\n          //dump(\&quot;nothing to complete\\n\&quot;);\n          return;\n        }\n\n        complete = _in.value.substr(spacepos+1,dotpos-(spacepos+1));\n      }\n      else {\n        complete = _in.value.substr(dotpos+1,caret-(dotpos+1));\n      }\n      //dump(\&quot;complete: \&quot; + complete + \&quot;\\n\&quot;);\n      // ok, now look at all the props/methods of this obj\n      // and find ones starting with 'complete'\n      var matches = [];\n      var bestmatch = null;\n      for(var a in obj)\n      {\n        //a = a.toString();\n        //XXX: making it lowercase could help some cases,\n        // but screws up my general logic.\n        if(a.substr(0,complete.length) == complete) {\n          matches.push(a);\n          ////dump(\&quot;match: \&quot; + a + \&quot;\\n\&quot;);\n          // if no best match, this is the best match\n          if(bestmatch == null)\n          {\n            bestmatch = a;\n          }\n          else {\n            // the best match is the longest common string\n            function min(a,b){ return ((a&lt;b)?a:b); }\n            var i;\n            for(i=0; i&lt; min(bestmatch.length, a.length); i++)\n            {\n              if(bestmatch.charAt(i) != a.charAt(i))\n                break;\n            }\n            bestmatch = bestmatch.substr(0,i);\n            ////dump(\&quot;bestmatch len: \&quot; + i + \&quot;\\n\&quot;);\n          }\n          ////dump(\&quot;bestmatch: \&quot; + bestmatch + \&quot;\\n\&quot;);\n        }\n      }\n      bestmatch = (bestmatch || \&quot;\&quot;);\n      ////dump(\&quot;matches: \&quot; + matches + \&quot;\\n\&quot;);\n      var objAndComplete = (objname || obj) + \&quot;.\&quot; + bestmatch;\n      //dump(\&quot;matches.length: \&quot; + matches.length + \&quot;, tooManyMatches: \&quot; + tooManyMatches + \&quot;, objAndComplete: \&quot; + objAndComplete + \&quot;\\n\&quot;);\n      if(matches.length &gt; 1 &amp;&amp; (tooManyMatches == objAndComplete || matches.length &lt;= 10)) {\n\n        printWithRunin(\&quot;Matches: \&quot;, matches.join(', '), \&quot;tabcomplete\&quot;);\n        tooManyMatches = null;\n      }\n      else if(matches.length &gt; 10)\n      {\n        println(matches.length + \&quot; matches.  Press tab again to see them all\&quot;, \&quot;tabcomplete\&quot;);\n        tooManyMatches = objAndComplete;\n      }\n      else {\n        tooManyMatches = null;\n      }\n      if(bestmatch != \&quot;\&quot;)\n      {\n        var sstart;\n        if(dotpos == caret) {\n          sstart = spacepos+1;\n        }\n        else {\n          sstart = dotpos+1;\n        }\n        _in.value = _in.value.substr(0, sstart)\n                  + bestmatch\n                  + _in.value.substr(caret);\n        setselectionto(_in,caret + (bestmatch.length - complete.length));\n      }\n    }\n}\n\nfunction printQuestion(q)\n{\n  println(q, \&quot;input\&quot;);\n}\n\nfunction printAnswer(a)\n{\n  if (a !== undefined) {\n    println(a, \&quot;normalOutput\&quot;);\n    shellCommands.ans = a;\n  }\n}\n\nfunction printError(er)\n{ \n  var lineNumberString;\n\n  lastError = er; // for debugging the shell\n  if (er.name)\n  {\n    // lineNumberString should not be \&quot;\&quot;, to avoid a very wacky bug in IE 6.\n    lineNumberString = (er.lineNumber != undefined) ? (\&quot; on line \&quot; + er.lineNumber + \&quot;: \&quot;) : \&quot;: \&quot;;\n    println(er.name + lineNumberString + er.message, \&quot;error\&quot;); // Because IE doesn't have error.toString.\n  }\n  else\n    println(er, \&quot;error\&quot;); // Because security errors in Moz /only/ have toString.\n}\n\nfunction go(s)\n{\n  _in.value = question = s ? s : _in.value;\n\n  if (question == \&quot;\&quot;)\n    return;\n\n  histList[histList.length-1] = question;\n  histList[histList.length] = \&quot;\&quot;;\n  histPos = histList.length - 1;\n  \n  // Unfortunately, this has to happen *before* the JavaScript is run, so that \n  // print() output will go in the right place.\n  _in.value='';\n  recalculateInputHeight();\n  printQuestion(question);\n\n  if (_win.closed) {\n    printError(\&quot;Target window has been closed.\&quot;);\n    return;\n  }\n  \n  try { (\&quot;Shell\&quot; in _win) }\n  catch(er) {\n    printError(\&quot;The JavaScript Shell cannot access variables in the target window.  The most likely reason is that the target window now has a different page loaded and that page has a different hostname than the original page.\&quot;);\n    return;\n  }\n\n  if (!(\&quot;Shell\&quot; in _win))\n    initTarget(); // silent\n\n  // Evaluate Shell.question using _win's eval (this is why eval isn't in the |with|, IIRC).\n  _win.location.href = \&quot;javascript:try{ Shell.printAnswer(eval('with(Shell._scope) with(Shell.shellCommands) {' + Shell.question + String.fromCharCode(10) + '}')); } catch(er) { Shell.printError(er); }; setTimeout(Shell.refocus, 0); void 0\&quot;;\n}\n\n&lt;/script&gt;\n\n&lt;!-- for http://ted.mielczarek.org/code/mozilla/extensiondev/ --&gt;\n&lt;script type=\&quot;text/javascript\&quot; src=\&quot;chrome://extensiondev/content/rdfhistory.js\&quot;&gt;&lt;/script&gt;\n&lt;script type=\&quot;text/javascript\&quot; src=\&quot;chrome://extensiondev/content/chromeShellExtras.js\&quot;&gt;&lt;/script&gt;\n\n&lt;style type=\&quot;text/css\&quot;&gt;\nbody { background: white; color: black; }\n\n#output { white-space: pre; white-space: -moz-pre-wrap; } /* Preserve line breaks, but wrap too if browser supports it */\nh3 { margin-top: 0; margin-bottom: 0em; }\nh3 + div { margin: 0; }\n\nform { margin: 0; padding: 0; }\n#input { width: 100%25; border: none; padding: 0; overflow: auto; }\n\n.input { color: blue; background: white; font: inherit; font-weight: bold; margin-top: .5em; /* background: #E6E6FF; */ }\n.normalOutput { color: black; background: white; }\n.print { color: brown; background: white; }\n.error { color: red; background: white; }\n.propList { color: green; background: white; }\n.message { color: green; background: white; }\n.tabcomplete { color: purple; background: white; }\n&lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body onload=\&quot;init()\&quot;&gt;\n\n&lt;div id=\&quot;output\&quot;&gt;&lt;h3&gt;JavaScript Shell 1.4&lt;/h3&gt;&lt;div&gt;Features: autocompletion of property names with Tab, multiline input with Shift+Enter, input history with (Ctrl+) Up/Down, &lt;a accesskey=\&quot;M\&quot; href=\&quot;javascript:go('scope(Math); mathHelp();');\&quot; title=\&quot;Accesskey: M\&quot;&gt;Math&lt;/a&gt;, &lt;a accesskey=\&quot;H\&quot; href=\&quot;http://www.squarefree.com/shell/?ignoreReferrerFrom=shell1.4\&quot;  title=\&quot;Accesskey: H\&quot;&gt;help&lt;/a&gt;&lt;/div&gt;&lt;div&gt;Values and functions: ans, print(string), &lt;a accesskey=\&quot;P\&quot; href=\&quot;javascript:go('props(ans)')\&quot; title=\&quot;Accesskey: P\&quot;&gt;props(object)&lt;/a&gt;, &lt;a accesskey=\&quot;B\&quot; href=\&quot;javascript:go('blink(ans)')\&quot; title=\&quot;Accesskey: B\&quot;&gt;blink(node)&lt;/a&gt;, &lt;a accesskey=\&quot;C\&quot; href=\&quot;javascript:go('clear()')\&quot; title=\&quot;Accesskey: C\&quot;&gt;clear()&lt;/a&gt;, load(scriptURL), scope(object)&lt;/div&gt;&lt;/div&gt;\n\n&lt;div&gt;&lt;textarea id=\&quot;input\&quot; class=\&quot;input\&quot; wrap=\&quot;off\&quot; onkeydown=\&quot;inputKeydown(event)\&quot; rows=\&quot;1\&quot;&gt;&lt;/textarea&gt;&lt;/div&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;&quot;);document.close();}void 0"
>shell</a></td> 
<td>Opens a <a href="../shell/">JavaScript Shell</a> and allows it to access the current page. <a href="#shell">Details</a></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td class="empty"></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:with(window.open(&quot;&quot;,&quot;_blank&quot;,&quot;width=&quot;+screen.width*.6+&quot;,left=&quot;+screen.width*.35+&quot;,height=&quot;+screen.height*.9+&quot;,resizable,scrollbars=yes&quot;)){document.write(&quot;&lt;head&gt;&lt;title&gt;JavaScript Development Environment 2.0.1&lt;/title&gt;&lt;!-- about:blank confuses opera.. --&gt;&lt;/head&gt;&lt;frameset rows=\&quot;25,*,*\&quot;&gt;\n\n  &lt;frame name=\&quot;toolbarFrame\&quot; src=\&quot;about:blank\&quot; noresize=\&quot;noresize\&quot;&gt;\n\n  &lt;frame name=\&quot;inputFrame\&quot; src=\&quot;about:blank\&quot;&gt;\n\n  &lt;frame name=\&quot;outputFrame\&quot; src=\&quot;about:blank\&quot;&gt;\n\n&lt;/frameset&gt;\n\n&quot;);document.close(); frames[0].document.write(&quot;&lt;head&gt;&lt;!-- no doctype - it makes IE ignore the height: 100%25. --&gt;&lt;title&gt;toolbarFrame&lt;/title&gt;\n\n\n\n&lt;style type=\&quot;text/css\&quot;&gt;\nhtml,body { width: 100%25; height: 100%25; border: none; margin: 0px; padding: 0px; }\nbutton { height: 100%25; }\n&lt;/style&gt;\n\n&lt;script type=\&quot;text/javascript\&quot;&gt;\n\nvar outputFrame = parent.outputFrame;\nvar inputFrame = parent.inputFrame;\nvar framesetElement = parent.document.documentElement.getElementsByTagName(\&quot;frameset\&quot;)[0];\n\nvar savedRows;\n\n\n// Need to use C-style comments in handleError() and print() \n// because IE retains them when decompiling a function.\n\n\n\nfunction print(s, c) {\n  var outputFrame = parent.outputFrame; /* duplicated here in case this function is elsewhere */\n  var doc = outputFrame.document;\n\n  var newdiv = doc.createElement(\&quot;div\&quot;);\n  newdiv.appendChild(doc.createTextNode(s));\n  if (c)\n    newdiv.style.color = c;\n  doc.body.appendChild(newdiv);\n}\n\nfunction handleError(er, file, lineNumber) \n{\n  print(\&quot;Error on line \&quot; + lineNumber + \&quot;: \&quot; + er, \&quot;red\&quot;); \n    \n  /* Find the character offset for the line */\n  /* (code adapted from blogidate xml well-formedness bookmarklet) */\n  var ta = inputFrame.document.getElementById(\&quot;input\&quot;);\n  var lines = ta.value.split(\&quot;\\n\&quot;);\n  var cc = 0; \n  var i;\n  for(i=0; i &lt; (lineNumber - 1); ++i) \n    cc += lines[i].length + 1;\n\n  /* Hacky(?) workaround for IE's habit of including \\r's in strings */\n  if (ta.value.split(\&quot;\\r\&quot;).length &gt; 1)\n    cc -= lineNumber - 1;\n\n  /* Select the line */\n  if(document.selection) { \n    /* IE (Leonard Lin gave me this code) */\n    var sel = ta.createTextRange(); \n    sel.moveStart(\&quot;character\&quot;, cc); \n    sel.collapse(); \n    sel.moveEnd(\&quot;character\&quot;, lines[i].length); \n    sel.select();\n  } else { \n    /* Mozilla */\n    ta.selectionStart = cc; \n    ta.selectionEnd = cc + lines[i].length; \n  }\n \n  /* return true; */ /* nah, let the error go through to IE's js consolish thing! */\n}\n\n\n\n\n\nfunction showHideOutput()\n{\n  if (outputFrame.document.body.clientHeight &gt; 100) {\n    // hide\n    savedRows = framesetElement.rows;    \n    framesetElement.rows = \&quot;25,*,0\&quot;;\n  }\n  else {\n    // show. use the previous size, if possible\n    if (savedRows) {\n      framesetElement.rows = savedRows;\n      savedRows = null;\n    }\n    else {\n      framesetElement.rows = \&quot;25,*,*\&quot;;\n    }\n  }\n}\n\nfunction refocus()\n{\n  inputFrame.document.getElementById(\&quot;input\&quot;).focus();\n}\n\n\nfunction clearOutput()\n{\n  var b = outputFrame.document.body;\n  while(b.firstChild)\n    b.removeChild(b.firstChild);\n}\n\nfunction stripLineBreaks(s)\n{\n  return s.replace(/\\n/g, \&quot;\&quot;).replace(/\\r/g, \&quot;\&quot;); // stripping \\r is for IE\n}\n\nfunction execute()\n{\n  var js = inputFrame.document.getElementById(\&quot;input\&quot;).value;\n\n  var useOpener = parent.opener &amp;&amp; !parent.opener.closed;\n  var oldStyle = !! document.all; // lame but meh.\n  \n  print(\&quot;Running\&quot; + (useOpener ? \&quot; in bookmarklet mode\&quot; : \&quot;\&quot;) + (oldStyle ? \&quot; in make-IE-happy mode\&quot; : \&quot;\&quot;) + \&quot;...\&quot;, \&quot;orange\&quot;);\n\n  if (useOpener)\n    executeWithJSURL(js, parent.opener); // only way to execute against another frame\n  else if (oldStyle)\n    executeWithDW(js, execFrame); // only way to get line numbers in IE\n  else\n    executeWithJSURL(js, execFrame); // faster in Mozilla  \n}\n\n// Advantages: can get line numbers in IE.\nfunction executeWithDW(js, win)\n{\n  win.document.open();\n  win.inputFrame = inputFrame;\n  win.outputFrame = outputFrame;\n  win.document.write(\n    stripLineBreaks(\n        '&lt;!DOCTYPE HTML PUBLIC \&quot;-//W3C//DTD HTML 4.01//EN\&quot; \&quot;http://www.w3.org/TR/html4/strict.dtd\&quot;&gt;' +\n        '&lt;html&gt;&lt;head&gt;&lt;title&gt;execFrame&lt;\\/title&gt;&lt;script type=\&quot;text/javascript\&quot;&gt;'\n      + print         // yay for decompilation!\n      + handleError \n      + \&quot;window.onerror = handleError;\&quot;\n      + \&quot;&lt;\\/script&gt;&lt;\\/head&gt;\&quot;\n      ) \n    + '&lt;body&gt;&lt;script type=\&quot;text/javascript\&quot;&gt;'\n    + js         // should escape it a little to remove the string &lt;\\/script&gt; at least...\n    + \&quot;&lt;\\/script&gt;&lt;\\/body&gt;&lt;\\/html&gt;\&quot;\n    );\n  win.document.close();\n}\n\n// Advantages: can be used to inject a script into another window, faster in Mozilla.\nfunction executeWithJSURL(js, win)\n{\n  // isolate scope\n  js = \&quot;(function(){ \&quot; + js + \&quot; \\n })()\&quot;;\n\n  win.print = print;\n  win.onerror = handleError;\n\n  // double encodeURIComponent because javascript: URLs themselves are encoded!\n  win.location.href = 'javascript:eval(decodeURIComponent(\&quot;' + encodeURIComponent(encodeURIComponent(js)) + '\&quot;)); void 0;';\n  \n  refocus();\n}\n\n// Other ideas I haven't tried lately: create a &lt;script&gt; element, eval.\n\n\nfunction makeUserScript(userScriptLink)\n{\n    userScriptLink.href = \n        \&quot;data:text/javascript;charset=utf-8,\&quot; + \n        encodeURIComponent(inputFrame.document.getElementById(\&quot;input\&quot;).value + \&quot;//.user.js\&quot;);\n}\n\n&lt;/script&gt;&lt;/head&gt;&lt;body&gt;\n\n&lt;button accesskey=\&quot;E\&quot; onclick=\&quot;execute(); refocus();\&quot;&gt;&lt;u&gt;E&lt;/u&gt;xecute&lt;/button&gt;\n&lt;!-- &lt;button accesskey=\&quot;R\&quot; onclick=\&quot;reloadAndExecute(); refocus();\&quot;&gt;&lt;u&gt;R&lt;/u&gt;eload and execute&lt;/button&gt; --&gt;\n&lt;button accesskey=\&quot;C\&quot; onclick=\&quot;clearOutput(); refocus();\&quot;&gt;&lt;u&gt;C&lt;/u&gt;lear output&lt;/button&gt;\n&lt;button accesskey=\&quot;S\&quot; onclick=\&quot;showHideOutput(); refocus();\&quot;&gt;&lt;u&gt;S&lt;/u&gt;how/hide output&lt;/button&gt;\n&lt;!-- &lt;button accesskey=\&quot;H\&quot; onclick=\&quot;help(); refocus();\&quot;&gt;&lt;u&gt;H&lt;/u&gt;elp&lt;/button&gt; --&gt;\n\n&lt;a href=\&quot;data:text/html,...\&quot; onfocus=\&quot;makeUserScript(this);\&quot; onmouseover=\&quot;makeUserScript(this);\&quot; target=\&quot;_blank\&quot;&gt;Install as user script&lt;/a&gt;\n\n&lt;div style=\&quot;visibility: hidden;\&quot;&gt;\n&lt;iframe name=\&quot;execFrame\&quot; src=\&quot;about:blank\&quot; height=\&quot;5\&quot; width=\&quot;5\&quot;&gt;&lt;/iframe&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;&quot;); frames[0].document.close(); frames[1].document.write(&quot;&lt;head&gt;&lt;!-- no doctype - it makes IE ignore the height: 100%25. --&gt;&lt;title&gt;inputFrame&lt;/title&gt;\n\n\n\n\n\n&lt;style type=\&quot;text/css\&quot;&gt;\n\nhtml,body,form,textarea { width: 100%25; height: 100%25; border: none; margin: 0px; padding: 0px; }\nhtml,body { overflow: hidden; }\n\n&lt;/style&gt;&lt;/head&gt;&lt;body onload=\&quot;document.getElementById('input').select();\&quot;&gt;\n&lt;textarea style=\&quot;background-color: rgb(221, 238, 255);\&quot; id=\&quot;input\&quot;&gt;// ==UserScript==\n// @namespace     http://www.squarefree.com/jsenv/autogenerated\n// @name          Unnamed script\n// @description   Undescribed script\n// ==/UserScript==\n\nprint(\&quot;Squares of numbers 0 through 4:\&quot;);\nfor (var i = 0; i &amp;lt; 5; ++i)\n  print(i * i);\n\nthis.statement.causes(an.error);\n&lt;/textarea&gt;\n&lt;/body&gt;&quot;); frames[1].document.close();   }void 0"
>jsenv</a></td> 
<td>Opens a <a href="../jsenv/">JavaScript Development Environment</a> and allows it to access the current page. <a href="#jsenv">Details</a></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td class="empty"></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function(){function init(){var newline=unescape(&quot;%&quot;+&quot;0A&quot;);dead=false;oldCSS=null;x=opener;ta=document.f.ta;ta.select();ta.value=&quot;/* Type CSS rules here and they will be applied to&quot;+newline+&quot;whatever page is loaded in that tab, as long as the pages&quot;+newline+&quot;are from '&quot;+location.host+&quot;'&quot;+newline+&quot;and you keep this window open. */&quot;+newline+newline;update();}function update(){try{if(!x||x.closed){ta.style.backgroundColor=&quot;#ddd&quot;;return;}x.bookmarkletStyleSheet;}catch(er){ta.style.backgroundColor=&quot;#fdc&quot;;setTimeout(update,150);dead=true;return;}if(dead){dead=false;ta.style.backgroundColor=&quot;&quot;;oldCSS=null;}if(!x.testStyles){var newSS;newSS=x.document.createElement(&quot;link&quot;);newSS.rel=&quot;stylesheet&quot;;newSS.type=&quot;text/css&quot;;x.document.getElementsByTagName(&quot;head&quot;)[0].appendChild(newSS);x.testStyles=newSS;oldCSS=null;}if(oldCSS!=ta.value){oldCSS=ta.value;if(window.opera)x.testStyles.href=&quot;javascript:unescape('&quot;+escape(ta.value)+&quot;')&quot;;else if(navigator.userAgent.indexOf(&quot;MSIE&quot;)!=-1)x.testStyles.href=&quot;javascript:unescape('&quot;+escape(escape(ta.value))+&quot;')&quot;;else x.testStyles.href=&quot;data:text/css,&quot;+escape(ta.value);}setTimeout(update,150);}y=window.open('','','resizable,width=500,height=300');y.document.write('&lt;title&gt;New CSS Style Sheet&lt;/title&gt;&lt;style&gt;.ec { width: 100%; height: 100%; border: none; margin: 0px; padding: 0px; }&lt;/style&gt;&lt;body class=&quot;ec&quot;&gt;&lt;form name=&quot;f&quot; style=&quot;margin: 0px;&quot; class=&quot;ec&quot;&gt;&lt;textarea name=&quot;ta&quot; wrap=&quot;soft&quot; style=&quot;margin: 0px; border: 0px; width:100%; height:100%;&quot; class=&quot;ec&quot;&gt;&lt;/textarea&gt;&lt;script&gt;'+update+init+'init();&lt;'+'/script&gt;');y.document.close();})()"
>test styles</a></td> 
<td>Type in CSS rules to experiment or to create a temporary user style sheet. <a href="#test_styles">Details</a></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function(){function init(){var newline=unescape(&quot;%&quot;+&quot;0A&quot;),importCount=0,L=[];dead=false;oldCSS=null;x=opener;ta=document.f.ta;ta.select();if(x.editStyles){ta.value=x.editStyles.innerHTML;update();return;}ta.value=&quot;/* Type CSS rules here and they will be applied&quot;+newline+&quot;to pages from '&quot;+location.host+&quot;'&quot;+newline+&quot;immediately as long as you keep this window open. */&quot;+newline+newline;function add(s){if(!s.disabled){var y={sheet:s,readable:true,label:&quot;Imported&quot;,inline:false,shorturl:&quot;&quot;,fulltext:&quot;&quot;};try{for(var k=0,m;m=s.cssRules[k];++k)if(m.type==3)add(m.styleSheet);}catch(er){y.readable=false;}L.push(y);if(s.ownerNode){y.label=s.ownerNode.tagName.toUpperCase()+&quot;-tag&quot;;if(!s.ownerNode.getAttribute(&quot;src&quot;)&amp;&amp;!s.ownerNode.href)y.inline=true;}if(y.inline){y.label=&quot;Inline &quot;+y.label;y.fulltext=fix(s.ownerNode.innerHTML);}else if(s.href.substr(0,13)==&quot;data:text/css&quot;){y.shorturl=&quot; contained in a data: URL&quot;;y.fulltext=fix(unescape(s.href.slice(14)));}else{++importCount;y.importtext=&quot;@import \&quot;&quot;+s.href+&quot;\&quot;;&quot;;y.shorturl=&quot; &quot;+s.href.split('/').reverse()[0];if(!y.readable){y.fulltext=&quot;/* Out-of-domain; imported above. */&quot;;}else if(s.href.substr(0,5)!=&quot;http:&quot;){y.fulltext=&quot;/* Non-http; imported above. */&quot;;}else{var loadingText=&quot;/* Loading (&quot;+(L.length-1)+&quot;) */&quot;;y.fulltext=loadingText;var p=new XMLHttpRequest();p.onload=function(e){ta.value=ta.value.replace(y.importtext+newline,&quot;&quot;);y.fulltext=p.responseText;ta.value=ta.value.replace(loadingText,fix(y.fulltext));ta.value=ta.value.replace(firstNote+newline,&quot;&quot;);};p.open(&quot;GET&quot;,s.href);p.send(null);}}}}function fix(s){while((s[0]==newline)&amp;&amp;s.length&gt;1)s=s.slice(1);while((s[s.length-1]==newline)&amp;&amp;s.length&gt;1)s=s.substr(0,s.length-1);s=s.replace(/@import.*;/ig,function(){return &quot;/* &quot;+RegExp.lastMatch+&quot; */&quot;;});return s;}for(var i=0,ss;ss=x.document.styleSheets[i];++i)add(ss);var imports=&quot;&quot;,main=&quot;&quot;;var firstNote=&quot;/**** Style sheets whose contents could be loaded were ****/&quot;+newline+&quot;/**** imported instead.  Rule order may be incorrect   ****/&quot;+newline+&quot;/**** as a result. ****/&quot;+newline;if(importCount){ta.value+=firstNote;}for(var i=0;ss=L[i];++i){if(ss.importtext){imports+=ss.importtext+newline;}main+=&quot;/**** &quot;+ss.label+&quot; style sheet&quot;+ss.shorturl+&quot; ****/&quot;+newline;main+=newline;main+=ss.fulltext;main+=newline;main+=newline;main+=newline;}ta.value+=imports+newline+main;update();}function update(){try{if(!x||x.closed){ta.style.backgroundColor=&quot;#ddd&quot;;return;}x.editStyles;}catch(er){ta.style.backgroundColor=&quot;#fdc&quot;;setTimeout(update,150);dead=true;return;}if(dead){dead=false;ta.style.backgroundColor=&quot;&quot;;oldCSS=null;}if(!x.editStyles){var newSS;newSS=x.document.createElement(&quot;style&quot;);newSS.type=&quot;text/css&quot;;x.document.getElementsByTagName(&quot;head&quot;)[0].appendChild(newSS);x.editStyles=newSS;oldCSS=null;for(var i=0,ss;ss=x.document.styleSheets[i];++i)ss.disabled=true;}if(oldCSS!=ta.value){oldCSS=ta.value;x.editStyles.innerHTML=ta.value;}setTimeout(update,150);}y=open('','','resizable,scrollbars=yes,width=550,height=520');y.document.write('&lt;title&gt;Edit Styles&lt;/title&gt;&lt;style&gt;.ec { width: 100%; height: 100%; border: none; margin: 0px; padding: 0px; }&lt;/style&gt;&lt;body class=&quot;ec&quot;&gt;&lt;form name=&quot;f&quot; style=&quot;margin: 0px;&quot; class=&quot;ec&quot;&gt;&lt;textarea name=&quot;ta&quot; wrap=&quot;soft&quot; style=&quot;margin: 0px; border: 0px; width:100%; height:100%;&quot; class=&quot;ec&quot;&gt;&lt;/textarea&gt;&lt;script&gt;'+update+init+'init();&lt;'+'/script&gt;');y.document.close();})()"
>edit styles</a></td> 
<td>Experiment with changes to the page's style sheet. <a href="#edit_styles">Details</a></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td class="empty"></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function(){function A(n,g){var p=n.parentNode,t=n.tagName;if(!p)return &quot;&quot;;if(!t)return A(p,g);var T=t.toUpperCase(),b=(T!=&quot;TABLE&quot;&amp;&amp;T!=&quot;TBODY&quot;&amp;&amp;T!=&quot;THEAD&quot;&amp;&amp;T!=&quot;TR&quot;),c=n.className,i=n.id;return A(p,' &gt; ')+(b?T:T.toLowerCase())+(c?&quot;.&quot;+c:&quot;&quot;)+(i?&quot;#&quot;+i:&quot;&quot;)+(b?g:' ');}document.onmouseover=function(e){e=e?e:event;var s,g=e.target;g=g?g:e.srcElement;try{s=A(g,'');}catch(err){s=err.message;}window.status=s;return true;};window.status=A(document.documentElement,'');})()"
>ancestors</a></td> 
<td>Lists the ancestors of any element you hover over in the status bar. <a href="#ancestors">Details</a></td> 
<td><img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td class="empty"></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function(){function A(n,g){var p=n.parentNode,t=n.tagName;if(!p)return &quot;&quot;;if(!t)return A(p,g);var T=t.toUpperCase(),b=(T!=&quot;TABLE&quot;&amp;&amp;T!=&quot;TBODY&quot;&amp;&amp;T!=&quot;THEAD&quot;&amp;&amp;T!=&quot;TR&quot;),c=n.className,i=n.id;return A(p,' &gt; ')+(b?T:T.toLowerCase())+(c?&quot;.&quot;+c:&quot;&quot;)+(i?&quot;#&quot;+i:&quot;&quot;)+(b?g:' ');}document.onmouseover=function(e){e=e?e:event;var s,g=e.target;g=g?g:e.srcElement;try{s=A(g,'')+&quot; (click for computed styles)&quot;;}catch(err){s=err.message;}window.status=s;return true;};window.status=A(document.documentElement,'');var newSS,styles='* { cursor: crosshair; }';newSS=document.createElement('link');newSS.rel='stylesheet';newSS.type='text/css';newSS.href='data:text/css,'+escape(styles);document.getElementsByTagName(&quot;head&quot;)[0].appendChild(newSS);document.onclick=function(e){e=e?e:event;var s,g=e.target;g=g?g:e.srcElement;var x=window.open('','computedStyles');x.document.open();x.document.close();var d=x.document;x.onunload=function(){document.onclick=null;document.onmouseover=null;window.status=null;newSS.href='data:text/css,';};function sp(n,t,col){var r=d.createElement(n);r.appendChild(d.createTextNode(t));if(col)r.style.color=col;return r;}var typeIndex={'top':1,'bottom':1,'height':1,'width':1,'left':1,'right':1,'position':0,'display':0,'-moz-appearance':0,'-moz-box-sizing':0};var colors=[&quot;red&quot;,&quot;green&quot;,&quot;black&quot;];function undirect(v){return v.replace(/\-(left|top|bottom|right)/,&quot;-*&quot;);}function diff(n,p){pcs=p.ownerDocument.defaultView.getComputedStyle(p,&quot;&quot;);ncs=n.ownerDocument.defaultView.getComputedStyle(n,&quot;&quot;);var A=[];var B={};var C={};for(var i=0;i&lt;ncs.length;++i){var e=ncs.item(i),v=ncs.getPropertyValue(e),pv=pcs.getPropertyValue(e);if(v!=pv){var u=undirect(e);if(u.indexOf(&quot;-*&quot;)!=-1){if(!B[u])B[u]=[0,v];if(B[u][1]==v)++(B[u][0]);}A.push([typeIndex[e]!=null?typeIndex[e]:2,e,v]);}}A=A.sort();for(var u in B)if(B[u][0]==4)C[u]=true;for(var i in A){var t=A[i],e=t[1],v=t[2],u=undirect(e);if(C[u]){if(t[1].indexOf(&quot;-left&quot;)!=-1)d.body.appendChild(sp(&quot;div&quot;,u+&quot;: &quot;+v,colors[t[0]]));}else d.body.appendChild(sp(&quot;div&quot;,e+&quot;: &quot;+v,colors[t[0]]));}}function info(n){if(!n)return;if(n.tagName){d.body.appendChild(sp(&quot;h4&quot;,A(n,'')));diff(n,n.parentNode.nodeType!='9'?n.parentNode:d.documentElement);}info(n.parentNode);}d.body.appendChild(sp(&quot;p&quot;,&quot;This shows how the computed style of each node differs from the computed style of its parent. The root element, which has no parent, is instead compared against the root of a blank HTML document.&quot;));info(g);x.focus();e.preventDefault();}})()"
>computed styles</a></td> 
<td>Lists the computed styles of an element and of its ancestors. <a href="#computed_styles">Details</a></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td class="empty"></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function(){var i,x;for(i=0;x=document.styleSheets[i];++i)x.disabled=true;})();"
>zap style sheets</a></td> 
<td>Disables all style sheets. <a href="#zap_style_sheets">Details</a></td> 
<td><img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td class="empty"></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function(){var H=[&quot;bgcolor&quot;,&quot;bgColor&quot;,&quot;background&quot;,&quot;color&quot;,&quot;align&quot;,&quot;text&quot;,&quot;alink&quot;,&quot;vlink&quot;],Y={FONT:1,CENTER:1},d=[],p; function R(N){var a,x,i,t; if(t=N.tagName){ t=t.toUpperCase(); for (i=0;a=H[i];++i)if(N.getAttribute(a))N.removeAttribute(a); for(i=0;x=N.childNodes[i];++i)R(x); if (Y[t])d.push(N); } } R(document.documentElement); for (i=0;N=d[i];++i) { p=N.parentNode; while(N.firstChild)p.insertBefore(N.firstChild,N); p.removeChild(N); } })()"
>zap presentational html</a></td> 
<td>Removes most presentational attributes and tags while leaving style sheets intact. <a href="#zap_presentational_html">Details</a></td> 
<td><img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:s=document.getElementsByTagName('STYLE'); ex=document.getElementsByTagName('LINK'); d=window.open().document; /*set base href*/d.open();d.close(); b=d.body; function trim(s){return s.replace(/^\s*\n/, '').replace(/\s*$/, ''); }; function iff(a,b,c){return b?a+b+c:'';}function add(h){b.appendChild(h);} function makeTag(t){return d.createElement(t);} function makeText(tag,text){t=makeTag(tag);t.appendChild(d.createTextNode(text)); return t;} add(makeText('style', 'iframe{width:100%;height:18em;border:1px solid;')); add(makeText('h3', d.title='Style sheets in ' + location.href)); for(i=0; i&lt;s.length; ++i) { add(makeText('h4','Inline style sheet'  + iff(' title=&quot;',s[i].title,'&quot;'))); add(makeText('pre', trim(s[i].innerHTML))); } for (i=0; i&lt;ex.length; ++i) { rs=ex[i].rel.split(' '); for(j=0;j&lt;rs.length;++j) if (rs[j].toLowerCase()=='stylesheet') { add(makeText('h4','link rel=&quot;' + ex[i].rel + '&quot; href=&quot;' + ex[i].href + '&quot;' + iff(' title=&quot;',ex[i].title,'&quot;'))); iframe=makeTag('iframe'); iframe.src=ex[i].href; add(iframe); break; } } void 0"
>view style sheets</a></td> 
<td>Displays linked and embedded style sheets. <a href="#view_style_sheets">Details</a></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td class="empty"></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:s=document.getElementsByTagName('SCRIPT'); d=window.open().document; /*140681*/d.open();d.close(); b=d.body; function trim(s){return s.replace(/^\s*\n/, '').replace(/\s*$/, ''); }; function add(h){b.appendChild(h);} function makeTag(t){return d.createElement(t);} function makeText(tag,text){t=makeTag(tag);t.appendChild(d.createTextNode(text)); return t;} add(makeText('style', 'iframe{width:100%;height:18em;border:1px solid;')); add(makeText('h3', d.title='Scripts in ' + location.href)); for(i=0; i&lt;s.length; ++i) { if (s[i].src) { add(makeText('h4','script src=&quot;' + s[i].src + '&quot;')); iframe=makeTag('iframe'); iframe.src=s[i].src; add(iframe); } else { add(makeText('h4','Inline script')); add(makeText('pre', trim(s[i].innerHTML))); } } void 0"
>view scripts</a></td> 
<td>Displays linked and embedded scripts. <a href="#view_scripts">Details</a></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td class="empty"></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function(){var x,d,i,v,st; x=open(); d=x.document; d.open(); function hE(s){s=s.replace(/&amp;/g,&quot;&amp;amp;&quot;);s=s.replace(/&gt;/g,&quot;&amp;gt;&quot;);s=s.replace(/&lt;/g,&quot;&amp;lt;&quot;);return s;} d.write(&quot;&lt;style&gt;td{vertical-align:top; white-space:pre; } table,td,th { border: 1px solid #ccc; } div.er { color:red }&lt;/style&gt;&lt;table border=1&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Variable&lt;/th&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Value as string&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&quot;); for (i in window) { if (!(i in x) ) { v=window[i]; d.write(&quot;&lt;tr&gt;&lt;td&gt;&quot; + hE(i) + &quot;&lt;/td&gt;&lt;td&gt;&quot; + hE(typeof(window[i])) + &quot;&lt;/td&gt;&lt;td&gt;&quot;); if (v===null) d.write(&quot;null&quot;); else if (v===undefined) d.write(&quot;undefined&quot;); else try{st=v.toString(); if (st.length)d.write(hE(v.toString())); else d.write(&quot;%C2%A0&quot;)}catch(er){d.write(&quot;&lt;div class=er&gt;&quot;+hE(er.toString())+&quot;&lt;/div&gt;&quot;)}; d.write(&quot;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&quot;); } } d.write(&quot;&lt;/table&gt;&quot;); d.close(); })();"
>view variables</a></td> 
<td>Displays all JavaScript variables and functions. <a href="#view_variables">Details</a></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function(){var a={},b=[],i,e,c,k,d,s=&quot;&lt;table border=1&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;#&lt;/th&gt;&lt;th&gt;Tag&lt;/th&gt;&lt;th&gt;className&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&quot;;for(i=0;e=document.getElementsByTagName(&quot;*&quot;)[i];++i)if(c=e.className){k=e.tagName+&quot;.&quot;+c;a[k]=a[k]?a[k]+1:1;}for(k in a)b.push([k,a[k]]);b.sort();for(i in b) s+=&quot;&lt;tr&gt;&lt;td&gt;&quot;+b[i][1]+&quot;&lt;/td&gt;&lt;td&gt;&quot;+b[i][0].split(&quot;.&quot;).join(&quot;&lt;/td&gt;&lt;td&gt;&quot;)+&quot;&lt;/td&gt;&lt;/tr&gt;&quot;;s+=&quot;&lt;/table&gt;&quot;;d=open().document;d.write(s);d.close();})()"
>list classes</a></td> 
<td>Lists classes used in the document. <a href="#list_classes">Details</a></td> 
<td><img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function(){ function htmlEscape(s){s=s.replace(/&amp;/g,'&amp;amp;');s=s.replace(/&gt;/g,'&amp;gt;');s=s.replace(/&lt;/g,'&amp;lt;');return s;} x=window.open(); x.document.write('&lt;pre&gt;' + htmlEscape('&lt;html&gt;\n' + document.documentElement.innerHTML + '\n&lt;/html&gt;')); x.document.close(); })();"
>generated source</a></td> 
<td>Displays the current DOM tree of the page as HTML. <a href="#generated_source">Details</a></td> 
<td><img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td class="empty"></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:function getSelSource() { x = document.createElement(&quot;div&quot;); x.appendChild(window.getSelection().getRangeAt(0).cloneContents()); return x.innerHTML; } function makeHR() { return nd.createElement(&quot;hr&quot;); } function makeParagraph(text) { p = nd.createElement(&quot;p&quot;); p.appendChild(nd.createTextNode(text)); return p; } function makePre(text) { p = nd.createElement(&quot;pre&quot;); p.appendChild(nd.createTextNode(text)); return p; } nd = window.open().document; ndb = nd.body; if (!window.getSelection || !window.getSelection().rangeCount || window.getSelection().getRangeAt(0).collapsed) { nd.title=&quot;Generated Source of: &quot; + location.href; ndb.appendChild(makeParagraph(&quot;No selection, showing generated source of entire document.&quot;)); ndb.appendChild(makeHR()); ndb.appendChild(makePre(&quot;&lt;html&gt;\n&quot; + document.documentElement.innerHTML + &quot;\n&lt;/html&gt;&quot;)); } else { nd.title=&quot;Partial Source of: &quot; + location.href; ndb.appendChild(makePre(getSelSource())); }; void 0"
>partial source</a></td> 
<td>Displays the current DOM tree of the selection as HTML. <a href="#partial_source">Details</a></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td class="empty"></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function(){ function htmlEscape(s){s=s.replace(/&amp;/g,'&amp;amp;');s=s.replace(/&gt;/g,'&amp;gt;');s=s.replace(/&lt;/g,'&amp;lt;');return s;} var serializer = new XMLSerializer(); var source = serializer.serializeToString(document.documentElement, &quot;application/xml&quot;); var x=window.open('data:text/plain;charset=UTF-8,' + encodeURIComponent(source)); })();"
>serialize as xml</a></td> 
<td>Displays the current DOM tree of the page as XML. <a href="#serialize_as_xml">Details</a></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function(){var newSS; newSS=document.createElement(&quot;link&quot;); newSS.rel=&quot;stylesheet&quot;; newSS.type=&quot;text/css&quot;; newSS.href = &quot;http://www.cs.hmc.edu/~jruderma/block-structure.css&quot;; document.getElementsByTagName(&quot;head&quot;)[0].appendChild(newSS); })();"
>show blocks</a></td> 
<td>Draws borders to show tables (colors indicate nesting), paragraphs, and divs. <a href="#show_blocks">Details</a></td> 
<td><img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function(){var s=&quot;body&quot;,c=&quot;&quot;,I=&quot; ! important;&quot;,i,b,f,x,h; for(i=0;i&lt;17;++i) { x = i.toString(16); b = i&gt;15?&quot;FCC&quot;:x+x+x; f = i&gt;9?&quot;000&quot;:&quot;FFF&quot;; c += s + &quot; {background: #&quot; + b + I + &quot;border-color: #&quot; + b + I + &quot;color: #&quot; + f + I + &quot;}\n&quot;; s += &quot; *&quot;; } if(document.createStyleSheet) { document.createStyleSheet(&quot;javascript:'&quot;+c+&quot;'&quot;); } else { h=document.createElement('link'); h.rel='stylesheet'; h.href='data:text/css,'+escape(c); document.getElementsByTagName(&quot;head&quot;)[0].appendChild(h);}})()"
>topographic view</a></td> 
<td>Shows the nesting level of every element using shading. <a href="#topographic_view">Details</a></td> 
<td><img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function(){var s=&quot;body&quot;,c=&quot;&quot;,I=&quot; ! important;&quot;,i,b,f,x,h; for(i=0;i&lt;17;++i) { x = i.toString(16); b = i&gt;15?&quot;FCC&quot;:x+x+x; f = i&gt;9?&quot;000&quot;:&quot;FFF&quot;; c += s + &quot; {background: #&quot; + b + I + &quot;border: 1px outset #&quot; + b + I + &quot;color: #&quot; + f + I + &quot;}\n&quot;; s += &quot; *&quot;; } if(document.createStyleSheet) { document.createStyleSheet(&quot;javascript:'&quot;+c+&quot;'&quot;); } else { h=document.createElement('link'); h.rel='stylesheet'; h.href='data:text/css,'+escape(c); document.getElementsByTagName(&quot;head&quot;)[0].appendChild(h);}})()"
>topo with borders</a></td> 
<td>Shows the nesting level of every element using shading and 3D borders. <a href="#topo_with_borders">Details</a></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:function htmlEscape(s){s=s.replace(/&amp;/g,'&amp;amp;');s=s.replace(/&gt;/g,'&amp;gt;');s=s.replace(/&lt;/g,'&amp;lt;');return s;} function linkEscape(s){s=s.replace(/&amp;/g,'&amp;amp;');s=s.replace(/&quot;/,'&amp;quot;');return s} h = '&lt;a href=&quot;' + linkEscape(location.href) + '&quot;&gt;' + htmlEscape(document.title) + '&lt;/a&gt;'; with(window.open().document){write(h+'&lt;form name=f&gt;&lt;textarea  name=a rows=5 cols=80 wrap=hard&gt;'+htmlEscape(h)+'&lt;/textarea&gt;&lt;/form&gt;'); close(); f.a.select(); } void 0"
>make link</a></td> 
<td>Creates the HTML code to link to the current page. <a href="#make_link">Details</a></td> 
<td><img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td><img src="icons/FFF6ED/ns4.PNG" alt="NS4" width=16 height=16></td> 
<td><img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function() { function htmlEscape(s){s=s.replace(/&amp;/g,'&amp;amp;');s=s.replace(/&gt;/g,'&amp;gt;');s=s.replace(/&lt;/g,'&amp;lt;');return s;} var img = document.images[0]; var textToCopy = '&lt;img width=&quot;' + (img.naturalWidth || img.width) + '&quot; height=&quot;' + (img.naturalHeight || img.height) + '&quot; src=&quot;' + htmlEscape(img.src) + '&quot; alt=&quot;&quot; /&gt;\n'; document.close(); document.write(&quot;&lt;form name=f&gt;&lt;textarea name=ta cols=80 rows=5&gt;&lt;/textarea&gt;&lt;/form&gt;&quot;); document.close(); document.f.ta.value = textToCopy; document.f.ta.select(); })()"
>make img tag</a></td> 
<td>Creates the XHTML code to include the current image. <a href="#make_img_tag">Details</a></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function(){var atags,i,name,a; anchs = document.anchors; for(i=0; i&lt;anchs.length; ++i) { a = anchs[i]; name = a.name; a.appendChild(document.createTextNode(&quot;#&quot; + name)); a.style.border = &quot;1px solid&quot;; a.href = &quot;#&quot; + name; } })();"
>named anchors</a></td> 
<td>Makes anchors visible, letting you link to or bookmark a section of a page. <a href="#named_anchors">Details</a></td> 
<td><img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td class="empty"></td> 
<td><img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:(function() { var i=0; window.onerror = function(m,u,n) { window.status = &quot;JS Error #&quot; + ++i + &quot;: '&quot; + m + &quot;' &quot; + (/^javascript:/(u) ? &quot;(bookmarklet)&quot; : &quot;(line &quot; + n + &quot; of &quot; + u + &quot;)&quot;); return true;/*suppress default error message*/ }})();"
>onerror status</a></td> 
<td>When a JavaScript error occurs, shows the error message in the status bar. <a href="#onerror_status">Details</a></td> 
<td><img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td><img src="icons/FFF6ED/ns4.PNG" alt="NS4" width=16 height=16></td> 
<td class="empty"></td> 
</tr> 
 
<tr> 
<td><a class="bml"
href="javascript:window.onerror = function(m,u,n) { alert(&quot;JS error: &quot; + m + (/^javascript:/(u) ? &quot;\n\n(bookmarklet)&quot; : &quot;\n\nLine &quot; + n + &quot; of \n&quot; + u)); return true;/*suppress default error message*/ }; void 0"
>onerror alert</a></td> 
<td>When a JavaScript error occurs, shows the error message in a dialog. <a href="#onerror_alert">Details</a></td> 
<td><img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16></td> 
<td><img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16></td> 
<td><img src="icons/FFF6ED/ns4.PNG" alt="NS4" width=16 height=16></td> 
<td class="empty"></td> 
</tr> 
 
</table></div> 
 
<p class=smallitalic>Browsers: <img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16> is <a href="http://www.microsoft.com/windows/ie/default.asp">Internet Explorer for Windows</a>, <img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16> is <a href="http://channels.netscape.com/ns/browsers/default.jsp">Netscape 7</a> or <a href="http://www.mozilla.org/">Mozilla</a>, <img src="icons/FFF6ED/ns4.PNG" alt="NS4" width=16 height=16> is <a href="http://ftp.netscape.com/pub/communicator/english/">Netscape 4</a>, and <img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16> is <a href="http://www.opera.com/">Opera</a>.</p> 
 
 
<hr> 
 
<h3>Details</h3> 
<h4 class=transparent><a name="shell" class="bml"
href="javascript:with(window.open(&quot;&quot;,&quot;_blank&quot;,&quot;width=&quot;+screen.width*.6+&quot;,left=&quot;+screen.width*.35+&quot;,height=&quot;+screen.height*.9+&quot;,resizable,scrollbars=yes&quot;)){document.write(&quot;&lt;!DOCTYPE HTML PUBLIC \&quot;-//W3C//DTD HTML 4.01//EN\&quot; \&quot;http://www.w3.org/TR/html4/strict.dtd\&quot;&gt;\n\n&lt;html onclick=\&quot;keepFocusInTextbox(event)\&quot;&gt;\n&lt;head&gt;\n&lt;meta http-equiv=\&quot;Content-Type\&quot; content=\&quot;text/html; charset=iso-8859-1\&quot;&gt;\n&lt;title&gt;JavaScript Shell 1.4&lt;/title&gt;\n\n&lt;script type=\&quot;text/javascript\&quot;&gt;\nvar \nhistList = [\&quot;\&quot;], \nhistPos = 0, \n_scope = {}, \n_win, // a top-level context\nquestion,\n_in,\n_out,\ntooManyMatches = null,\nlastError = null;\n\nfunction refocus()\n{\n  _in.blur(); // Needed for Mozilla to scroll correctly.\n  _in.focus();\n}\n\nfunction init()\n{\n  _in = document.getElementById(\&quot;input\&quot;);\n  _out = document.getElementById(\&quot;output\&quot;);\n\n  _win = window;\n\n  if (opener &amp;&amp; !opener.closed)\n  {\n    println(\&quot;Using bookmarklet version of shell: commands will run in opener's context.\&quot;, \&quot;message\&quot;);\n    _win = opener;\n  }\n\n  initTarget();\n\n  recalculateInputHeight();\n  refocus();\n}\n\nfunction initTarget()\n{\n  _win.Shell = window;\n  _win.print = shellCommands.print;\n}\n\n\n// Unless the user is selected something, refocus the textbox.\n// (requested by caillon, brendan, asa)\nfunction keepFocusInTextbox(e) \n{\n  var g = e.srcElement ? e.srcElement : e.target; // IE vs. standard\n  \n  while (!g.tagName)\n    g = g.parentNode;\n  var t = g.tagName.toUpperCase();\n  if (t==\&quot;A\&quot; || t==\&quot;INPUT\&quot;)\n    return;\n    \n  if (window.getSelection) {\n    // Mozilla\n    if (String(window.getSelection()))\n      return;\n  }\n  else if (document.getSelection) {\n    // Opera? Netscape 4?\n    if (document.getSelection())\n      return;\n  }\n  else {\n    // IE\n    if ( document.selection.createRange().text )\n      return;\n  }\n  \n  refocus();\n}\n\nfunction inputKeydown(e) {\n  // Use onkeydown because IE doesn't support onkeypress for arrow keys\n\n  //alert(e.keyCode + \&quot; ^ \&quot; + e.keycode);\n\n  if (e.shiftKey &amp;&amp; e.keyCode == 13) { // shift-enter\n    // don't do anything; allow the shift-enter to insert a line break as normal\n  } else if (e.keyCode == 13) { // enter\n    // execute the input on enter\n    try { go(); } catch(er) { alert(er); };\n    setTimeout(function() { _in.value = \&quot;\&quot;; }, 0); // can't preventDefault on input, so clear it later\n  } else if (e.keyCode == 38) { // up\n    // go up in history if at top or ctrl-up\n    if (e.ctrlKey || caretInFirstLine(_in))\n      hist(true);\n  } else if (e.keyCode == 40) { // down\n    // go down in history if at end or ctrl-down\n    if (e.ctrlKey || caretInLastLine(_in))\n      hist(false);\n  } else if (e.keyCode == 9) { // tab\n    tabcomplete();\n    setTimeout(function() { refocus(); }, 0); // refocus because tab was hit\n  } else { }\n\n  setTimeout(recalculateInputHeight, 0);\n  \n  //return true;\n};\n\nfunction caretInFirstLine(textbox)\n{\n  // IE doesn't support selectionStart/selectionEnd\n  if (textbox.selectionStart == undefined)\n    return true;\n\n  var firstLineBreak = textbox.value.indexOf(\&quot;\\n\&quot;);\n  \n  return ((firstLineBreak == -1) || (textbox.selectionStart &lt;= firstLineBreak));\n}\n\nfunction caretInLastLine(textbox)\n{\n  // IE doesn't support selectionStart/selectionEnd\n  if (textbox.selectionEnd == undefined)\n    return true;\n\n  var lastLineBreak = textbox.value.lastIndexOf(\&quot;\\n\&quot;);\n  \n  return (textbox.selectionEnd &gt; lastLineBreak);\n}\n\nfunction recalculateInputHeight()\n{\n  var rows = _in.value.split(/\\n/).length\n    + 1 // prevent scrollbar flickering in Mozilla\n    + (window.opera ? 1 : 0); // leave room for scrollbar in Opera\n  \n  if (_in.rows != rows) // without this check, it is impossible to select text in Opera 7.60 or Opera 8.0.\n    _in.rows = rows;\n}\n\nfunction println(s, type)\n{\n  if((s=String(s)))\n  {\n    var newdiv = document.createElement(\&quot;div\&quot;);\n    newdiv.appendChild(document.createTextNode(s));\n    newdiv.className = type;\n    _out.appendChild(newdiv);\n    return newdiv;\n  }\n}\n\nfunction printWithRunin(h, s, type)\n{\n  var div = println(s, type);\n  var head = document.createElement(\&quot;strong\&quot;);\n  head.appendChild(document.createTextNode(h + \&quot;: \&quot;));\n  div.insertBefore(head, div.firstChild);\n}\n\n\nvar shellCommands = \n{\nload : function load(url)\n{\n  var s = _win.document.createElement(\&quot;script\&quot;);\n  s.type = \&quot;text/javascript\&quot;;\n  s.src = url;\n  _win.document.getElementsByTagName(\&quot;head\&quot;)[0].appendChild(s);\n  println(\&quot;Loading \&quot; + url + \&quot;...\&quot;, \&quot;message\&quot;);\n},\n\nclear : function clear()\n{\n  var CHILDREN_TO_PRESERVE = 3;\n  while (_out.childNodes[CHILDREN_TO_PRESERVE]) \n    _out.removeChild(_out.childNodes[CHILDREN_TO_PRESERVE]);\n},\n\nprint : function print(s) { println(s, \&quot;print\&quot;); },\n\n// the normal function, \&quot;print\&quot;, shouldn't return a value\n// (suggested by brendan; later noticed it was a problem when showing others)\npr : function pr(s) \n{ \n  shellCommands.print(s); // need to specify shellCommands so it doesn't try window.print()!\n  return s;\n},\n\nprops : function props(e, onePerLine)\n{\n  if (e === null) {\n    println(\&quot;props called with null argument\&quot;, \&quot;error\&quot;);\n    return;\n  }\n\n  if (e === undefined) {\n    println(\&quot;props called with undefined argument\&quot;, \&quot;error\&quot;);\n    return;\n  }\n\n  var ns = [\&quot;Methods\&quot;, \&quot;Fields\&quot;, \&quot;Unreachables\&quot;];\n  var as = [[], [], []]; // array of (empty) arrays of arrays!\n  var p, j, i; // loop variables, several used multiple times\n\n  var protoLevels = 0;\n\n  for (p = e; p; p = p.__proto__)\n  {\n    for (i=0; i&lt;ns.length; ++i)\n      as[i][protoLevels] = [];\n    ++protoLevels;\n  }\n\n  for(var a in e)\n  {\n    // Shortcoming: doesn't check that VALUES are the same in object and prototype.\n\n    var protoLevel = -1;\n    try\n    {\n      for (p = e; p &amp;&amp; (a in p); p = p.__proto__)\n        ++protoLevel;\n    }\n    catch(er) { protoLevel = 0; } // \&quot;in\&quot; operator throws when param to props() is a string\n\n    var type = 1;\n    try\n    {\n      if ((typeof e[a]) == \&quot;function\&quot;)\n        type = 0;\n    }\n    catch (er) { type = 2; }\n\n    as[type][protoLevel].push(a);\n  }\n\n  function times(s, n) { return n ? s + times(s, n-1) : \&quot;\&quot;; }\n\n  for (j=0; j&lt;protoLevels; ++j)\n    for (i=0;i&lt;ns.length;++i)\n      if (as[i][j].length) \n        printWithRunin(\n          ns[i] + times(\&quot; of prototype\&quot;, j), \n          (onePerLine ? \&quot;\\n\\n\&quot; : \&quot;\&quot;) + as[i][j].sort().join(onePerLine ? \&quot;\\n\&quot; : \&quot;, \&quot;) + (onePerLine ? \&quot;\\n\\n\&quot; : \&quot;\&quot;), \n          \&quot;propList\&quot;\n        );\n},\n\nblink : function blink(node)\n{\n  if (!node)                     throw(\&quot;blink: argument is null or undefined.\&quot;);\n  if (node.nodeType == null)     throw(\&quot;blink: argument must be a node.\&quot;);\n  if (node.nodeType == 3)        throw(\&quot;blink: argument must not be a text node\&quot;);\n  if (node.documentElement)      throw(\&quot;blink: argument must not be the document object\&quot;);\n\n  function setOutline(o) { \n    return function() {\n      if (node.style.outline != node.style.bogusProperty) {\n        // browser supports outline (Firefox 1.1 and newer, CSS3, Opera 8).\n        node.style.outline = o;\n      }\n      else if (node.style.MozOutline != node.style.bogusProperty) {\n        // browser supports MozOutline (Firefox 1.0.x and older)\n        node.style.MozOutline = o;\n      }\n      else {\n        // browser only supports border (IE). border is a fallback because it moves things around.\n        node.style.border = o;\n      }\n    }\n  } \n  \n  function focusIt(a) {\n    return function() {\n      a.focus(); \n    }\n  }\n\n  if (node.ownerDocument) {\n    var windowToFocusNow = (node.ownerDocument.defaultView || node.ownerDocument.parentWindow); // Moz vs. IE\n    if (windowToFocusNow)\n      setTimeout(focusIt(windowToFocusNow.top), 0);\n  }\n\n  for(var i=1;i&lt;7;++i)\n    setTimeout(setOutline((i%252)?'3px solid red':'none'), i*100);\n\n  setTimeout(focusIt(window), 800);\n  setTimeout(focusIt(_in), 810);\n},\n\nscope : function scope(sc)\n{\n  if (!sc) sc = {};\n  _scope = sc;\n  println(\&quot;Scope is now \&quot; + sc + \&quot;.  If a variable is not found in this scope, window will also be searched.  New variables will still go on window.\&quot;, \&quot;message\&quot;);\n},\n\nmathHelp : function mathHelp()\n{\n  printWithRunin(\&quot;Math constants\&quot;, \&quot;E, LN2, LN10, LOG2E, LOG10E, PI, SQRT1_2, SQRT2\&quot;, \&quot;propList\&quot;);\n  printWithRunin(\&quot;Math methods\&quot;, \&quot;abs, acos, asin, atan, atan2, ceil, cos, exp, floor, log, max, min, pow, random, round, sin, sqrt, tan\&quot;, \&quot;propList\&quot;);\n},\n\nans : undefined\n};\n\n\nfunction hist(up)\n{\n  // histList[0] = first command entered, [1] = second, etc.\n  // type something, press up --&gt; thing typed is now in \&quot;limbo\&quot;\n  // (last item in histList) and should be reachable by pressing \n  // down again.\n\n  var L = histList.length;\n\n  if (L == 1)\n    return;\n\n  if (up)\n  {\n    if (histPos == L-1)\n    {\n      // Save this entry in case the user hits the down key.\n      histList[histPos] = _in.value;\n    }\n\n    if (histPos &gt; 0)\n    {\n      histPos--;\n      // Use a timeout to prevent up from moving cursor within new text\n      // Set to nothing first for the same reason\n      setTimeout(\n        function() {\n          _in.value = ''; \n          _in.value = histList[histPos];\n          var caretPos = _in.value.length;\n          if (_in.setSelectionRange) \n            _in.setSelectionRange(caretPos, caretPos);\n        },\n        0\n      );\n    }\n  } \n  else // down\n  {\n    if (histPos &lt; L-1)\n    {\n      histPos++;\n      _in.value = histList[histPos];\n    }\n    else if (histPos == L-1)\n    {\n      // Already on the current entry: clear but save\n      if (_in.value)\n      {\n        histList[histPos] = _in.value;\n        ++histPos;\n        _in.value = \&quot;\&quot;;\n      }\n    }\n  }\n}\n\nfunction tabcomplete()\n{\n  /*\n   * Working backwards from s[from], find the spot\n   * where this expression starts.  It will scan\n   * until it hits a mismatched ( or a space,\n   * but it skips over quoted strings.\n   * If stopAtDot is true, stop at a '.'\n   */\n  function findbeginning(s, from, stopAtDot)\n  {\n    /*\n     *  Complicated function.\n     *\n     *  Return true if s[i] == q BUT ONLY IF\n     *  s[i-1] is not a backslash.\n     */\n    function equalButNotEscaped(s,i,q)\n    {\n      if(s.charAt(i) != q) // not equal go no further\n        return false;\n\n      if(i==0) // beginning of string\n        return true;\n\n      if(s.charAt(i-1) == '\\\\') // escaped?\n        return false;\n\n      return true;\n    }\n\n    var nparens = 0;\n    var i;\n    for(i=from; i&gt;=0; i--)\n    {\n      if(s.charAt(i) == ' ')\n        break;\n\n      if(stopAtDot &amp;&amp; s.charAt(i) == '.')\n        break;\n        \n      if(s.charAt(i) == ')')\n        nparens++;\n      else if(s.charAt(i) == '(')\n        nparens--;\n\n      if(nparens &lt; 0)\n        break;\n\n      // skip quoted strings\n      if(s.charAt(i) == '\\'' || s.charAt(i) == '\\\&quot;')\n      {\n        //dump(\&quot;skipping quoted chars: \&quot;);\n        var quot = s.charAt(i);\n        i--;\n        while(i &gt;= 0 &amp;&amp; !equalButNotEscaped(s,i,quot)) {\n          //dump(s.charAt(i));\n          i--;\n        }\n        //dump(\&quot;\\n\&quot;);\n      }\n    }\n    return i;\n  }\n\n  // XXX should be used more consistently (instead of using selectionStart/selectionEnd throughout code)\n  // XXX doesn't work in IE, even though it contains IE-specific code\n  function getcaretpos(inp)\n  {\n    if(inp.selectionEnd != null)\n      return inp.selectionEnd;\n      \n    if(inp.createTextRange)\n    {\n      var docrange = _win.Shell.document.selection.createRange();\n      var inprange = inp.createTextRange();\n      if (inprange.setEndPoint)\n      {\n        inprange.setEndPoint('EndToStart', docrange);\n        return inprange.text.length;\n      }\n    }\n\n    return inp.value.length; // sucks, punt\n  }\n\n  function setselectionto(inp,pos)\n  {\n    if(inp.selectionStart) {\n      inp.selectionStart = inp.selectionEnd = pos;\n    }\n    else if(inp.createTextRange) {\n      var docrange = _win.Shell.document.selection.createRange();\n      var inprange = inp.createTextRange();\n      inprange.move('character',pos);\n      inprange.select();\n    }\n    else { // err...\n    /*\n      inp.select();\n      if(_win.Shell.document.getSelection())\n        _win.Shell.document.getSelection() = \&quot;\&quot;;\n        */\n    }\n  }\n    // get position of cursor within the input box\n    var caret = getcaretpos(_in);\n\n    if(caret) {\n      //dump(\&quot;----\\n\&quot;);\n      var dotpos, spacepos, complete, obj;\n      //dump(\&quot;caret pos: \&quot; + caret + \&quot;\\n\&quot;);\n      // see if there's a dot before here\n      dotpos = findbeginning(_in.value, caret-1, true);\n      //dump(\&quot;dot pos: \&quot; + dotpos + \&quot;\\n\&quot;);\n      if(dotpos == -1 || _in.value.charAt(dotpos) != '.') {\n        dotpos = caret;\n//dump(\&quot;changed dot pos: \&quot; + dotpos + \&quot;\\n\&quot;);\n      }\n\n      // look backwards for a non-variable-name character\n      spacepos = findbeginning(_in.value, dotpos-1, false);\n      //dump(\&quot;space pos: \&quot; + spacepos + \&quot;\\n\&quot;);\n      // get the object we're trying to complete on\n      if(spacepos == dotpos || spacepos+1 == dotpos || dotpos == caret)\n      {\n        // try completing function args\n        if(_in.value.charAt(dotpos) == '(' ||\n (_in.value.charAt(spacepos) == '(' &amp;&amp; (spacepos+1) == dotpos))\n        {\n          var fn,fname;\n  var from = (_in.value.charAt(dotpos) == '(') ? dotpos : spacepos;\n          spacepos = findbeginning(_in.value, from-1, false);\n\n          fname = _in.value.substr(spacepos+1,from-(spacepos+1));\n  //dump(\&quot;fname: \&quot; + fname + \&quot;\\n\&quot;);\n          try {\n            with(_win.Shell._scope)\n              with(_win)\n                with(Shell.shellCommands)\n                  fn = eval(fname);\n          }\n          catch(er) {\n            //dump('fn is not a valid object\\n');\n            return;\n          }\n          if(fn == undefined) {\n             //dump('fn is undefined');\n             return;\n          }\n          if(fn instanceof Function)\n          {\n            // Print function definition, including argument names, but not function body\n            if(!fn.toString().match(/function .+?\\(\\) +\\{\\n +\\[native code\\]\\n\\}/))\n              println(fn.toString().match(/function .+?\\(.*?\\)/), \&quot;tabcomplete\&quot;);\n          }\n\n          return;\n        }\n        else\n          obj = _win;\n      }\n      else\n      {\n        var objname = _in.value.substr(spacepos+1,dotpos-(spacepos+1));\n        //dump(\&quot;objname: |\&quot; + objname + \&quot;|\\n\&quot;);\n        try {\n          with(_win.Shell._scope)\n            with(_win)\n                obj = eval(objname);\n        }\n        catch(er) {\n          printError(er); \n          return;\n        }\n        if(obj == undefined) {\n          // sometimes this is tabcomplete's fault, so don't print it :(\n          // e.g. completing from \&quot;print(document.getElements\&quot;\n          // println(\&quot;Can't complete from null or undefined expression \&quot; + objname, \&quot;error\&quot;);\n          return;\n        }\n      }\n      //dump(\&quot;obj: \&quot; + obj + \&quot;\\n\&quot;);\n      // get the thing we're trying to complete\n      if(dotpos == caret)\n      {\n        if(spacepos+1 == dotpos || spacepos == dotpos)\n        {\n          // nothing to complete\n          //dump(\&quot;nothing to complete\\n\&quot;);\n          return;\n        }\n\n        complete = _in.value.substr(spacepos+1,dotpos-(spacepos+1));\n      }\n      else {\n        complete = _in.value.substr(dotpos+1,caret-(dotpos+1));\n      }\n      //dump(\&quot;complete: \&quot; + complete + \&quot;\\n\&quot;);\n      // ok, now look at all the props/methods of this obj\n      // and find ones starting with 'complete'\n      var matches = [];\n      var bestmatch = null;\n      for(var a in obj)\n      {\n        //a = a.toString();\n        //XXX: making it lowercase could help some cases,\n        // but screws up my general logic.\n        if(a.substr(0,complete.length) == complete) {\n          matches.push(a);\n          ////dump(\&quot;match: \&quot; + a + \&quot;\\n\&quot;);\n          // if no best match, this is the best match\n          if(bestmatch == null)\n          {\n            bestmatch = a;\n          }\n          else {\n            // the best match is the longest common string\n            function min(a,b){ return ((a&lt;b)?a:b); }\n            var i;\n            for(i=0; i&lt; min(bestmatch.length, a.length); i++)\n            {\n              if(bestmatch.charAt(i) != a.charAt(i))\n                break;\n            }\n            bestmatch = bestmatch.substr(0,i);\n            ////dump(\&quot;bestmatch len: \&quot; + i + \&quot;\\n\&quot;);\n          }\n          ////dump(\&quot;bestmatch: \&quot; + bestmatch + \&quot;\\n\&quot;);\n        }\n      }\n      bestmatch = (bestmatch || \&quot;\&quot;);\n      ////dump(\&quot;matches: \&quot; + matches + \&quot;\\n\&quot;);\n      var objAndComplete = (objname || obj) + \&quot;.\&quot; + bestmatch;\n      //dump(\&quot;matches.length: \&quot; + matches.length + \&quot;, tooManyMatches: \&quot; + tooManyMatches + \&quot;, objAndComplete: \&quot; + objAndComplete + \&quot;\\n\&quot;);\n      if(matches.length &gt; 1 &amp;&amp; (tooManyMatches == objAndComplete || matches.length &lt;= 10)) {\n\n        printWithRunin(\&quot;Matches: \&quot;, matches.join(', '), \&quot;tabcomplete\&quot;);\n        tooManyMatches = null;\n      }\n      else if(matches.length &gt; 10)\n      {\n        println(matches.length + \&quot; matches.  Press tab again to see them all\&quot;, \&quot;tabcomplete\&quot;);\n        tooManyMatches = objAndComplete;\n      }\n      else {\n        tooManyMatches = null;\n      }\n      if(bestmatch != \&quot;\&quot;)\n      {\n        var sstart;\n        if(dotpos == caret) {\n          sstart = spacepos+1;\n        }\n        else {\n          sstart = dotpos+1;\n        }\n        _in.value = _in.value.substr(0, sstart)\n                  + bestmatch\n                  + _in.value.substr(caret);\n        setselectionto(_in,caret + (bestmatch.length - complete.length));\n      }\n    }\n}\n\nfunction printQuestion(q)\n{\n  println(q, \&quot;input\&quot;);\n}\n\nfunction printAnswer(a)\n{\n  if (a !== undefined) {\n    println(a, \&quot;normalOutput\&quot;);\n    shellCommands.ans = a;\n  }\n}\n\nfunction printError(er)\n{ \n  var lineNumberString;\n\n  lastError = er; // for debugging the shell\n  if (er.name)\n  {\n    // lineNumberString should not be \&quot;\&quot;, to avoid a very wacky bug in IE 6.\n    lineNumberString = (er.lineNumber != undefined) ? (\&quot; on line \&quot; + er.lineNumber + \&quot;: \&quot;) : \&quot;: \&quot;;\n    println(er.name + lineNumberString + er.message, \&quot;error\&quot;); // Because IE doesn't have error.toString.\n  }\n  else\n    println(er, \&quot;error\&quot;); // Because security errors in Moz /only/ have toString.\n}\n\nfunction go(s)\n{\n  _in.value = question = s ? s : _in.value;\n\n  if (question == \&quot;\&quot;)\n    return;\n\n  histList[histList.length-1] = question;\n  histList[histList.length] = \&quot;\&quot;;\n  histPos = histList.length - 1;\n  \n  // Unfortunately, this has to happen *before* the JavaScript is run, so that \n  // print() output will go in the right place.\n  _in.value='';\n  recalculateInputHeight();\n  printQuestion(question);\n\n  if (_win.closed) {\n    printError(\&quot;Target window has been closed.\&quot;);\n    return;\n  }\n  \n  try { (\&quot;Shell\&quot; in _win) }\n  catch(er) {\n    printError(\&quot;The JavaScript Shell cannot access variables in the target window.  The most likely reason is that the target window now has a different page loaded and that page has a different hostname than the original page.\&quot;);\n    return;\n  }\n\n  if (!(\&quot;Shell\&quot; in _win))\n    initTarget(); // silent\n\n  // Evaluate Shell.question using _win's eval (this is why eval isn't in the |with|, IIRC).\n  _win.location.href = \&quot;javascript:try{ Shell.printAnswer(eval('with(Shell._scope) with(Shell.shellCommands) {' + Shell.question + String.fromCharCode(10) + '}')); } catch(er) { Shell.printError(er); }; setTimeout(Shell.refocus, 0); void 0\&quot;;\n}\n\n&lt;/script&gt;\n\n&lt;!-- for http://ted.mielczarek.org/code/mozilla/extensiondev/ --&gt;\n&lt;script type=\&quot;text/javascript\&quot; src=\&quot;chrome://extensiondev/content/rdfhistory.js\&quot;&gt;&lt;/script&gt;\n&lt;script type=\&quot;text/javascript\&quot; src=\&quot;chrome://extensiondev/content/chromeShellExtras.js\&quot;&gt;&lt;/script&gt;\n\n&lt;style type=\&quot;text/css\&quot;&gt;\nbody { background: white; color: black; }\n\n#output { white-space: pre; white-space: -moz-pre-wrap; } /* Preserve line breaks, but wrap too if browser supports it */\nh3 { margin-top: 0; margin-bottom: 0em; }\nh3 + div { margin: 0; }\n\nform { margin: 0; padding: 0; }\n#input { width: 100%25; border: none; padding: 0; overflow: auto; }\n\n.input { color: blue; background: white; font: inherit; font-weight: bold; margin-top: .5em; /* background: #E6E6FF; */ }\n.normalOutput { color: black; background: white; }\n.print { color: brown; background: white; }\n.error { color: red; background: white; }\n.propList { color: green; background: white; }\n.message { color: green; background: white; }\n.tabcomplete { color: purple; background: white; }\n&lt;/style&gt;\n&lt;/head&gt;\n\n&lt;body onload=\&quot;init()\&quot;&gt;\n\n&lt;div id=\&quot;output\&quot;&gt;&lt;h3&gt;JavaScript Shell 1.4&lt;/h3&gt;&lt;div&gt;Features: autocompletion of property names with Tab, multiline input with Shift+Enter, input history with (Ctrl+) Up/Down, &lt;a accesskey=\&quot;M\&quot; href=\&quot;javascript:go('scope(Math); mathHelp();');\&quot; title=\&quot;Accesskey: M\&quot;&gt;Math&lt;/a&gt;, &lt;a accesskey=\&quot;H\&quot; href=\&quot;http://www.squarefree.com/shell/?ignoreReferrerFrom=shell1.4\&quot;  title=\&quot;Accesskey: H\&quot;&gt;help&lt;/a&gt;&lt;/div&gt;&lt;div&gt;Values and functions: ans, print(string), &lt;a accesskey=\&quot;P\&quot; href=\&quot;javascript:go('props(ans)')\&quot; title=\&quot;Accesskey: P\&quot;&gt;props(object)&lt;/a&gt;, &lt;a accesskey=\&quot;B\&quot; href=\&quot;javascript:go('blink(ans)')\&quot; title=\&quot;Accesskey: B\&quot;&gt;blink(node)&lt;/a&gt;, &lt;a accesskey=\&quot;C\&quot; href=\&quot;javascript:go('clear()')\&quot; title=\&quot;Accesskey: C\&quot;&gt;clear()&lt;/a&gt;, load(scriptURL), scope(object)&lt;/div&gt;&lt;/div&gt;\n\n&lt;div&gt;&lt;textarea id=\&quot;input\&quot; class=\&quot;input\&quot; wrap=\&quot;off\&quot; onkeydown=\&quot;inputKeydown(event)\&quot; rows=\&quot;1\&quot;&gt;&lt;/textarea&gt;&lt;/div&gt;\n\n&lt;/body&gt;\n\n&lt;/html&gt;&quot;);document.close();}void 0"
>shell</a> 
(<img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>)
</h4><p class=shortdesc>Opens a <a href="../shell/">JavaScript Shell</a> and allows it to access the current page.</p> 
 
 
<h4 class=transparent><a name="jsenv" class="bml"
href="javascript:with(window.open(&quot;&quot;,&quot;_blank&quot;,&quot;width=&quot;+screen.width*.6+&quot;,left=&quot;+screen.width*.35+&quot;,height=&quot;+screen.height*.9+&quot;,resizable,scrollbars=yes&quot;)){document.write(&quot;&lt;head&gt;&lt;title&gt;JavaScript Development Environment 2.0.1&lt;/title&gt;&lt;!-- about:blank confuses opera.. --&gt;&lt;/head&gt;&lt;frameset rows=\&quot;25,*,*\&quot;&gt;\n\n  &lt;frame name=\&quot;toolbarFrame\&quot; src=\&quot;about:blank\&quot; noresize=\&quot;noresize\&quot;&gt;\n\n  &lt;frame name=\&quot;inputFrame\&quot; src=\&quot;about:blank\&quot;&gt;\n\n  &lt;frame name=\&quot;outputFrame\&quot; src=\&quot;about:blank\&quot;&gt;\n\n&lt;/frameset&gt;\n\n&quot;);document.close(); frames[0].document.write(&quot;&lt;head&gt;&lt;!-- no doctype - it makes IE ignore the height: 100%25. --&gt;&lt;title&gt;toolbarFrame&lt;/title&gt;\n\n\n\n&lt;style type=\&quot;text/css\&quot;&gt;\nhtml,body { width: 100%25; height: 100%25; border: none; margin: 0px; padding: 0px; }\nbutton { height: 100%25; }\n&lt;/style&gt;\n\n&lt;script type=\&quot;text/javascript\&quot;&gt;\n\nvar outputFrame = parent.outputFrame;\nvar inputFrame = parent.inputFrame;\nvar framesetElement = parent.document.documentElement.getElementsByTagName(\&quot;frameset\&quot;)[0];\n\nvar savedRows;\n\n\n// Need to use C-style comments in handleError() and print() \n// because IE retains them when decompiling a function.\n\n\n\nfunction print(s, c) {\n  var outputFrame = parent.outputFrame; /* duplicated here in case this function is elsewhere */\n  var doc = outputFrame.document;\n\n  var newdiv = doc.createElement(\&quot;div\&quot;);\n  newdiv.appendChild(doc.createTextNode(s));\n  if (c)\n    newdiv.style.color = c;\n  doc.body.appendChild(newdiv);\n}\n\nfunction handleError(er, file, lineNumber) \n{\n  print(\&quot;Error on line \&quot; + lineNumber + \&quot;: \&quot; + er, \&quot;red\&quot;); \n    \n  /* Find the character offset for the line */\n  /* (code adapted from blogidate xml well-formedness bookmarklet) */\n  var ta = inputFrame.document.getElementById(\&quot;input\&quot;);\n  var lines = ta.value.split(\&quot;\\n\&quot;);\n  var cc = 0; \n  var i;\n  for(i=0; i &lt; (lineNumber - 1); ++i) \n    cc += lines[i].length + 1;\n\n  /* Hacky(?) workaround for IE's habit of including \\r's in strings */\n  if (ta.value.split(\&quot;\\r\&quot;).length &gt; 1)\n    cc -= lineNumber - 1;\n\n  /* Select the line */\n  if(document.selection) { \n    /* IE (Leonard Lin gave me this code) */\n    var sel = ta.createTextRange(); \n    sel.moveStart(\&quot;character\&quot;, cc); \n    sel.collapse(); \n    sel.moveEnd(\&quot;character\&quot;, lines[i].length); \n    sel.select();\n  } else { \n    /* Mozilla */\n    ta.selectionStart = cc; \n    ta.selectionEnd = cc + lines[i].length; \n  }\n \n  /* return true; */ /* nah, let the error go through to IE's js consolish thing! */\n}\n\n\n\n\n\nfunction showHideOutput()\n{\n  if (outputFrame.document.body.clientHeight &gt; 100) {\n    // hide\n    savedRows = framesetElement.rows;    \n    framesetElement.rows = \&quot;25,*,0\&quot;;\n  }\n  else {\n    // show. use the previous size, if possible\n    if (savedRows) {\n      framesetElement.rows = savedRows;\n      savedRows = null;\n    }\n    else {\n      framesetElement.rows = \&quot;25,*,*\&quot;;\n    }\n  }\n}\n\nfunction refocus()\n{\n  inputFrame.document.getElementById(\&quot;input\&quot;).focus();\n}\n\n\nfunction clearOutput()\n{\n  var b = outputFrame.document.body;\n  while(b.firstChild)\n    b.removeChild(b.firstChild);\n}\n\nfunction stripLineBreaks(s)\n{\n  return s.replace(/\\n/g, \&quot;\&quot;).replace(/\\r/g, \&quot;\&quot;); // stripping \\r is for IE\n}\n\nfunction execute()\n{\n  var js = inputFrame.document.getElementById(\&quot;input\&quot;).value;\n\n  var useOpener = parent.opener &amp;&amp; !parent.opener.closed;\n  var oldStyle = !! document.all; // lame but meh.\n  \n  print(\&quot;Running\&quot; + (useOpener ? \&quot; in bookmarklet mode\&quot; : \&quot;\&quot;) + (oldStyle ? \&quot; in make-IE-happy mode\&quot; : \&quot;\&quot;) + \&quot;...\&quot;, \&quot;orange\&quot;);\n\n  if (useOpener)\n    executeWithJSURL(js, parent.opener); // only way to execute against another frame\n  else if (oldStyle)\n    executeWithDW(js, execFrame); // only way to get line numbers in IE\n  else\n    executeWithJSURL(js, execFrame); // faster in Mozilla  \n}\n\n// Advantages: can get line numbers in IE.\nfunction executeWithDW(js, win)\n{\n  win.document.open();\n  win.inputFrame = inputFrame;\n  win.outputFrame = outputFrame;\n  win.document.write(\n    stripLineBreaks(\n        '&lt;!DOCTYPE HTML PUBLIC \&quot;-//W3C//DTD HTML 4.01//EN\&quot; \&quot;http://www.w3.org/TR/html4/strict.dtd\&quot;&gt;' +\n        '&lt;html&gt;&lt;head&gt;&lt;title&gt;execFrame&lt;\\/title&gt;&lt;script type=\&quot;text/javascript\&quot;&gt;'\n      + print         // yay for decompilation!\n      + handleError \n      + \&quot;window.onerror = handleError;\&quot;\n      + \&quot;&lt;\\/script&gt;&lt;\\/head&gt;\&quot;\n      ) \n    + '&lt;body&gt;&lt;script type=\&quot;text/javascript\&quot;&gt;'\n    + js         // should escape it a little to remove the string &lt;\\/script&gt; at least...\n    + \&quot;&lt;\\/script&gt;&lt;\\/body&gt;&lt;\\/html&gt;\&quot;\n    );\n  win.document.close();\n}\n\n// Advantages: can be used to inject a script into another window, faster in Mozilla.\nfunction executeWithJSURL(js, win)\n{\n  // isolate scope\n  js = \&quot;(function(){ \&quot; + js + \&quot; \\n })()\&quot;;\n\n  win.print = print;\n  win.onerror = handleError;\n\n  // double encodeURIComponent because javascript: URLs themselves are encoded!\n  win.location.href = 'javascript:eval(decodeURIComponent(\&quot;' + encodeURIComponent(encodeURIComponent(js)) + '\&quot;)); void 0;';\n  \n  refocus();\n}\n\n// Other ideas I haven't tried lately: create a &lt;script&gt; element, eval.\n\n\nfunction makeUserScript(userScriptLink)\n{\n    userScriptLink.href = \n        \&quot;data:text/javascript;charset=utf-8,\&quot; + \n        encodeURIComponent(inputFrame.document.getElementById(\&quot;input\&quot;).value + \&quot;//.user.js\&quot;);\n}\n\n&lt;/script&gt;&lt;/head&gt;&lt;body&gt;\n\n&lt;button accesskey=\&quot;E\&quot; onclick=\&quot;execute(); refocus();\&quot;&gt;&lt;u&gt;E&lt;/u&gt;xecute&lt;/button&gt;\n&lt;!-- &lt;button accesskey=\&quot;R\&quot; onclick=\&quot;reloadAndExecute(); refocus();\&quot;&gt;&lt;u&gt;R&lt;/u&gt;eload and execute&lt;/button&gt; --&gt;\n&lt;button accesskey=\&quot;C\&quot; onclick=\&quot;clearOutput(); refocus();\&quot;&gt;&lt;u&gt;C&lt;/u&gt;lear output&lt;/button&gt;\n&lt;button accesskey=\&quot;S\&quot; onclick=\&quot;showHideOutput(); refocus();\&quot;&gt;&lt;u&gt;S&lt;/u&gt;how/hide output&lt;/button&gt;\n&lt;!-- &lt;button accesskey=\&quot;H\&quot; onclick=\&quot;help(); refocus();\&quot;&gt;&lt;u&gt;H&lt;/u&gt;elp&lt;/button&gt; --&gt;\n\n&lt;a href=\&quot;data:text/html,...\&quot; onfocus=\&quot;makeUserScript(this);\&quot; onmouseover=\&quot;makeUserScript(this);\&quot; target=\&quot;_blank\&quot;&gt;Install as user script&lt;/a&gt;\n\n&lt;div style=\&quot;visibility: hidden;\&quot;&gt;\n&lt;iframe name=\&quot;execFrame\&quot; src=\&quot;about:blank\&quot; height=\&quot;5\&quot; width=\&quot;5\&quot;&gt;&lt;/iframe&gt;\n&lt;/div&gt;\n\n&lt;/body&gt;&quot;); frames[0].document.close(); frames[1].document.write(&quot;&lt;head&gt;&lt;!-- no doctype - it makes IE ignore the height: 100%25. --&gt;&lt;title&gt;inputFrame&lt;/title&gt;\n\n\n\n\n\n&lt;style type=\&quot;text/css\&quot;&gt;\n\nhtml,body,form,textarea { width: 100%25; height: 100%25; border: none; margin: 0px; padding: 0px; }\nhtml,body { overflow: hidden; }\n\n&lt;/style&gt;&lt;/head&gt;&lt;body onload=\&quot;document.getElementById('input').select();\&quot;&gt;\n&lt;textarea style=\&quot;background-color: rgb(221, 238, 255);\&quot; id=\&quot;input\&quot;&gt;// ==UserScript==\n// @namespace     http://www.squarefree.com/jsenv/autogenerated\n// @name          Unnamed script\n// @description   Undescribed script\n// ==/UserScript==\n\nprint(\&quot;Squares of numbers 0 through 4:\&quot;);\nfor (var i = 0; i &amp;lt; 5; ++i)\n  print(i * i);\n\nthis.statement.causes(an.error);\n&lt;/textarea&gt;\n&lt;/body&gt;&quot;); frames[1].document.close();   }void 0"
>jsenv</a> 
(<img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>)
</h4><p class=shortdesc>Opens a <a href="../jsenv/">JavaScript Development Environment</a> and allows it to access the current page.</p> 
 
 
<h4 class=transparent><a name="test_styles" class="bml"
href="javascript:(function(){function init(){var newline=unescape(&quot;%&quot;+&quot;0A&quot;);dead=false;oldCSS=null;x=opener;ta=document.f.ta;ta.select();ta.value=&quot;/* Type CSS rules here and they will be applied to&quot;+newline+&quot;whatever page is loaded in that tab, as long as the pages&quot;+newline+&quot;are from '&quot;+location.host+&quot;'&quot;+newline+&quot;and you keep this window open. */&quot;+newline+newline;update();}function update(){try{if(!x||x.closed){ta.style.backgroundColor=&quot;#ddd&quot;;return;}x.bookmarkletStyleSheet;}catch(er){ta.style.backgroundColor=&quot;#fdc&quot;;setTimeout(update,150);dead=true;return;}if(dead){dead=false;ta.style.backgroundColor=&quot;&quot;;oldCSS=null;}if(!x.testStyles){var newSS;newSS=x.document.createElement(&quot;link&quot;);newSS.rel=&quot;stylesheet&quot;;newSS.type=&quot;text/css&quot;;x.document.getElementsByTagName(&quot;head&quot;)[0].appendChild(newSS);x.testStyles=newSS;oldCSS=null;}if(oldCSS!=ta.value){oldCSS=ta.value;if(window.opera)x.testStyles.href=&quot;javascript:unescape('&quot;+escape(ta.value)+&quot;')&quot;;else if(navigator.userAgent.indexOf(&quot;MSIE&quot;)!=-1)x.testStyles.href=&quot;javascript:unescape('&quot;+escape(escape(ta.value))+&quot;')&quot;;else x.testStyles.href=&quot;data:text/css,&quot;+escape(ta.value);}setTimeout(update,150);}y=window.open('','','resizable,width=500,height=300');y.document.write('&lt;title&gt;New CSS Style Sheet&lt;/title&gt;&lt;style&gt;.ec { width: 100%; height: 100%; border: none; margin: 0px; padding: 0px; }&lt;/style&gt;&lt;body class=&quot;ec&quot;&gt;&lt;form name=&quot;f&quot; style=&quot;margin: 0px;&quot; class=&quot;ec&quot;&gt;&lt;textarea name=&quot;ta&quot; wrap=&quot;soft&quot; style=&quot;margin: 0px; border: 0px; width:100%; height:100%;&quot; class=&quot;ec&quot;&gt;&lt;/textarea&gt;&lt;script&gt;'+update+init+'init();&lt;'+'/script&gt;');y.document.close();})()"
>test styles</a> 
(<img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>, <img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16>)
</h4><p class=shortdesc>Type in CSS rules to experiment or to create a temporary user style sheet.</p> 
<p>Creates a new window into which you can type <a href="http://www.blooberry.com/indexdot/css/">CSS</a> rules for the original page.  The rules are applied immediately.  As long as you keep the style window open, the rules will still be applied if you reload the page or even go to another page on the same site.  See <a href="http://www.squarefree.com/userstyles/">examples of user style rules</a> and <a href="http://www.meryl.net/articles/archives/001014.php">examples of style rules for web developers</a>.</p> 
 
<!-- 
Examples I could put in the window by default
div { border: 1px solid } (not good because it changes layout, which is slow)
a:hover { color: black ! important } (not good because it requires a hover)
body { background: #eee ! important; color: black ! important; } (longish)
"zap colors" (practical but does not alter many pages)
--> 
 
<h4 class=transparent><a name="edit_styles" class="bml"
href="javascript:(function(){function init(){var newline=unescape(&quot;%&quot;+&quot;0A&quot;),importCount=0,L=[];dead=false;oldCSS=null;x=opener;ta=document.f.ta;ta.select();if(x.editStyles){ta.value=x.editStyles.innerHTML;update();return;}ta.value=&quot;/* Type CSS rules here and they will be applied&quot;+newline+&quot;to pages from '&quot;+location.host+&quot;'&quot;+newline+&quot;immediately as long as you keep this window open. */&quot;+newline+newline;function add(s){if(!s.disabled){var y={sheet:s,readable:true,label:&quot;Imported&quot;,inline:false,shorturl:&quot;&quot;,fulltext:&quot;&quot;};try{for(var k=0,m;m=s.cssRules[k];++k)if(m.type==3)add(m.styleSheet);}catch(er){y.readable=false;}L.push(y);if(s.ownerNode){y.label=s.ownerNode.tagName.toUpperCase()+&quot;-tag&quot;;if(!s.ownerNode.getAttribute(&quot;src&quot;)&amp;&amp;!s.ownerNode.href)y.inline=true;}if(y.inline){y.label=&quot;Inline &quot;+y.label;y.fulltext=fix(s.ownerNode.innerHTML);}else if(s.href.substr(0,13)==&quot;data:text/css&quot;){y.shorturl=&quot; contained in a data: URL&quot;;y.fulltext=fix(unescape(s.href.slice(14)));}else{++importCount;y.importtext=&quot;@import \&quot;&quot;+s.href+&quot;\&quot;;&quot;;y.shorturl=&quot; &quot;+s.href.split('/').reverse()[0];if(!y.readable){y.fulltext=&quot;/* Out-of-domain; imported above. */&quot;;}else if(s.href.substr(0,5)!=&quot;http:&quot;){y.fulltext=&quot;/* Non-http; imported above. */&quot;;}else{var loadingText=&quot;/* Loading (&quot;+(L.length-1)+&quot;) */&quot;;y.fulltext=loadingText;var p=new XMLHttpRequest();p.onload=function(e){ta.value=ta.value.replace(y.importtext+newline,&quot;&quot;);y.fulltext=p.responseText;ta.value=ta.value.replace(loadingText,fix(y.fulltext));ta.value=ta.value.replace(firstNote+newline,&quot;&quot;);};p.open(&quot;GET&quot;,s.href);p.send(null);}}}}function fix(s){while((s[0]==newline)&amp;&amp;s.length&gt;1)s=s.slice(1);while((s[s.length-1]==newline)&amp;&amp;s.length&gt;1)s=s.substr(0,s.length-1);s=s.replace(/@import.*;/ig,function(){return &quot;/* &quot;+RegExp.lastMatch+&quot; */&quot;;});return s;}for(var i=0,ss;ss=x.document.styleSheets[i];++i)add(ss);var imports=&quot;&quot;,main=&quot;&quot;;var firstNote=&quot;/**** Style sheets whose contents could be loaded were ****/&quot;+newline+&quot;/**** imported instead.  Rule order may be incorrect   ****/&quot;+newline+&quot;/**** as a result. ****/&quot;+newline;if(importCount){ta.value+=firstNote;}for(var i=0;ss=L[i];++i){if(ss.importtext){imports+=ss.importtext+newline;}main+=&quot;/**** &quot;+ss.label+&quot; style sheet&quot;+ss.shorturl+&quot; ****/&quot;+newline;main+=newline;main+=ss.fulltext;main+=newline;main+=newline;main+=newline;}ta.value+=imports+newline+main;update();}function update(){try{if(!x||x.closed){ta.style.backgroundColor=&quot;#ddd&quot;;return;}x.editStyles;}catch(er){ta.style.backgroundColor=&quot;#fdc&quot;;setTimeout(update,150);dead=true;return;}if(dead){dead=false;ta.style.backgroundColor=&quot;&quot;;oldCSS=null;}if(!x.editStyles){var newSS;newSS=x.document.createElement(&quot;style&quot;);newSS.type=&quot;text/css&quot;;x.document.getElementsByTagName(&quot;head&quot;)[0].appendChild(newSS);x.editStyles=newSS;oldCSS=null;for(var i=0,ss;ss=x.document.styleSheets[i];++i)ss.disabled=true;}if(oldCSS!=ta.value){oldCSS=ta.value;x.editStyles.innerHTML=ta.value;}setTimeout(update,150);}y=open('','','resizable,scrollbars=yes,width=550,height=520');y.document.write('&lt;title&gt;Edit Styles&lt;/title&gt;&lt;style&gt;.ec { width: 100%; height: 100%; border: none; margin: 0px; padding: 0px; }&lt;/style&gt;&lt;body class=&quot;ec&quot;&gt;&lt;form name=&quot;f&quot; style=&quot;margin: 0px;&quot; class=&quot;ec&quot;&gt;&lt;textarea name=&quot;ta&quot; wrap=&quot;soft&quot; style=&quot;margin: 0px; border: 0px; width:100%; height:100%;&quot; class=&quot;ec&quot;&gt;&lt;/textarea&gt;&lt;script&gt;'+update+init+'init();&lt;'+'/script&gt;');y.document.close();})()"
>edit styles</a> 
(<img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>)
</h4><p class=shortdesc>Experiment with changes to the page's style sheet.</p> 
<p>Similar to "test styles".  Instead of starting blank, the window starts with all of the style sheets in the page.<p> 
 
<p>This bookmarklet supports inline and linked style sheets, imports, and style sheets with data: URLs (such as those created by "test styles").  When style sheets cannot be loaded with XMLHttpRequest (out-of-domain or non-http URLs), it includes them with an @import rule.</p> 
 
<h4 class=transparent><a name="ancestors" class="bml"
href="javascript:(function(){function A(n,g){var p=n.parentNode,t=n.tagName;if(!p)return &quot;&quot;;if(!t)return A(p,g);var T=t.toUpperCase(),b=(T!=&quot;TABLE&quot;&amp;&amp;T!=&quot;TBODY&quot;&amp;&amp;T!=&quot;THEAD&quot;&amp;&amp;T!=&quot;TR&quot;),c=n.className,i=n.id;return A(p,' &gt; ')+(b?T:T.toLowerCase())+(c?&quot;.&quot;+c:&quot;&quot;)+(i?&quot;#&quot;+i:&quot;&quot;)+(b?g:' ');}document.onmouseover=function(e){e=e?e:event;var s,g=e.target;g=g?g:e.srcElement;try{s=A(g,'');}catch(err){s=err.message;}window.status=s;return true;};window.status=A(document.documentElement,'');})()"
>ancestors</a> 
(<img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16>, <img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>)
</h4><p class=shortdesc>Lists the ancestors of any element you hover over in the status bar.</p> 
<p>For example, a link in a table cell would appear as "BODY &gt; table tbody tr TD &gt; A".
 
<p>Also shows classes (e.g. SPAN.newsItemLink) and ids (e.g. DIV#content) when present.  The idea of showing classes and ids comes from <a href="http://www.pixy.cz/blogg/favelets/">pixy</a>'s "List computed styles" bookmarklet.</p> 
 
<h4 class=transparent><a name="computed_styles" class="bml"
href="javascript:(function(){function A(n,g){var p=n.parentNode,t=n.tagName;if(!p)return &quot;&quot;;if(!t)return A(p,g);var T=t.toUpperCase(),b=(T!=&quot;TABLE&quot;&amp;&amp;T!=&quot;TBODY&quot;&amp;&amp;T!=&quot;THEAD&quot;&amp;&amp;T!=&quot;TR&quot;),c=n.className,i=n.id;return A(p,' &gt; ')+(b?T:T.toLowerCase())+(c?&quot;.&quot;+c:&quot;&quot;)+(i?&quot;#&quot;+i:&quot;&quot;)+(b?g:' ');}document.onmouseover=function(e){e=e?e:event;var s,g=e.target;g=g?g:e.srcElement;try{s=A(g,'')+&quot; (click for computed styles)&quot;;}catch(err){s=err.message;}window.status=s;return true;};window.status=A(document.documentElement,'');var newSS,styles='* { cursor: crosshair; }';newSS=document.createElement('link');newSS.rel='stylesheet';newSS.type='text/css';newSS.href='data:text/css,'+escape(styles);document.getElementsByTagName(&quot;head&quot;)[0].appendChild(newSS);document.onclick=function(e){e=e?e:event;var s,g=e.target;g=g?g:e.srcElement;var x=window.open('','computedStyles');x.document.open();x.document.close();var d=x.document;x.onunload=function(){document.onclick=null;document.onmouseover=null;window.status=null;newSS.href='data:text/css,';};function sp(n,t,col){var r=d.createElement(n);r.appendChild(d.createTextNode(t));if(col)r.style.color=col;return r;}var typeIndex={'top':1,'bottom':1,'height':1,'width':1,'left':1,'right':1,'position':0,'display':0,'-moz-appearance':0,'-moz-box-sizing':0};var colors=[&quot;red&quot;,&quot;green&quot;,&quot;black&quot;];function undirect(v){return v.replace(/\-(left|top|bottom|right)/,&quot;-*&quot;);}function diff(n,p){pcs=p.ownerDocument.defaultView.getComputedStyle(p,&quot;&quot;);ncs=n.ownerDocument.defaultView.getComputedStyle(n,&quot;&quot;);var A=[];var B={};var C={};for(var i=0;i&lt;ncs.length;++i){var e=ncs.item(i),v=ncs.getPropertyValue(e),pv=pcs.getPropertyValue(e);if(v!=pv){var u=undirect(e);if(u.indexOf(&quot;-*&quot;)!=-1){if(!B[u])B[u]=[0,v];if(B[u][1]==v)++(B[u][0]);}A.push([typeIndex[e]!=null?typeIndex[e]:2,e,v]);}}A=A.sort();for(var u in B)if(B[u][0]==4)C[u]=true;for(var i in A){var t=A[i],e=t[1],v=t[2],u=undirect(e);if(C[u]){if(t[1].indexOf(&quot;-left&quot;)!=-1)d.body.appendChild(sp(&quot;div&quot;,u+&quot;: &quot;+v,colors[t[0]]));}else d.body.appendChild(sp(&quot;div&quot;,e+&quot;: &quot;+v,colors[t[0]]));}}function info(n){if(!n)return;if(n.tagName){d.body.appendChild(sp(&quot;h4&quot;,A(n,'')));diff(n,n.parentNode.nodeType!='9'?n.parentNode:d.documentElement);}info(n.parentNode);}d.body.appendChild(sp(&quot;p&quot;,&quot;This shows how the computed style of each node differs from the computed style of its parent. The root element, which has no parent, is instead compared against the root of a blank HTML document.&quot;));info(g);x.focus();e.preventDefault();}})()"
>computed styles</a> 
(<img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>)
</h4><p class=shortdesc>Lists the computed styles of an element and of its ancestors.</p> 
<p>Features:</p> 
 
<ul> 
<li>Only shows properties where each element differs from its parent.</li> 
<li>For the root, only shows styles that differ from the root of a blank HTML document.</li> 
<li>Collapses "side" properties when all four sides are the same. For example, if all margins are equal, you'll see "margin-*" instead of "margin-top", "margin-left", etc.</li> 
<li>Some important properties, such as "display" and "position", are red.</li> 
<li>Some properties that can usually be ignored, such as "top" and "width", are green.</li> 
<li>Overrides link clicks, so you can use it on A elements.</li> 
<li>Same status bar info as the "ancestors" bookmarklet.</li> 
<li>Crosshair cursor.</li> 
</ul> 
 
<p><a href="http://simon.incutio.com/archive/2003/04/20/#flaminCSS">Suggested</a> by <a href="http://simon.incutio.com/">Simon Willison</a>. (Simon <a href="http://www.kryogenix.org/days/471.html#au129">actually wanted</a> a bookmarklet that would show the style <em>rules</em> that apply to an element, like the DOM Inspector does, but I don't think that can be done in a bookmarklet.)</p> 
 
<h4 class=transparent><a name="zap_style_sheets" class="bml"
href="javascript:(function(){var i,x;for(i=0;x=document.styleSheets[i];++i)x.disabled=true;})();"
>zap style sheets</a> 
(<img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16>, <img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>)
</h4><p class=shortdesc>Disables all style sheets.</p> 
 
 
<h4 class=transparent><a name="zap_presentational_html" class="bml"
href="javascript:(function(){var H=[&quot;bgcolor&quot;,&quot;bgColor&quot;,&quot;background&quot;,&quot;color&quot;,&quot;align&quot;,&quot;text&quot;,&quot;alink&quot;,&quot;vlink&quot;],Y={FONT:1,CENTER:1},d=[],p; function R(N){var a,x,i,t; if(t=N.tagName){ t=t.toUpperCase(); for (i=0;a=H[i];++i)if(N.getAttribute(a))N.removeAttribute(a); for(i=0;x=N.childNodes[i];++i)R(x); if (Y[t])d.push(N); } } R(document.documentElement); for (i=0;N=d[i];++i) { p=N.parentNode; while(N.firstChild)p.insertBefore(N.firstChild,N); p.removeChild(N); } })()"
>zap presentational html</a> 
(<img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16>, <img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>, <img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16>)
</h4><p class=shortdesc>Removes most presentational attributes and tags while leaving style sheets intact.</p> 
<p>Removes the following attributes: bgcolor, background, color, align, text, alink, vlink.</p> 
 
<p>Removes the following tags (and any attributes on them): FONT, CENTER.</p> 
 
<h4 class=transparent><a name="view_style_sheets" class="bml"
href="javascript:s=document.getElementsByTagName('STYLE'); ex=document.getElementsByTagName('LINK'); d=window.open().document; /*set base href*/d.open();d.close(); b=d.body; function trim(s){return s.replace(/^\s*\n/, '').replace(/\s*$/, ''); }; function iff(a,b,c){return b?a+b+c:'';}function add(h){b.appendChild(h);} function makeTag(t){return d.createElement(t);} function makeText(tag,text){t=makeTag(tag);t.appendChild(d.createTextNode(text)); return t;} add(makeText('style', 'iframe{width:100%;height:18em;border:1px solid;')); add(makeText('h3', d.title='Style sheets in ' + location.href)); for(i=0; i&lt;s.length; ++i) { add(makeText('h4','Inline style sheet'  + iff(' title=&quot;',s[i].title,'&quot;'))); add(makeText('pre', trim(s[i].innerHTML))); } for (i=0; i&lt;ex.length; ++i) { rs=ex[i].rel.split(' '); for(j=0;j&lt;rs.length;++j) if (rs[j].toLowerCase()=='stylesheet') { add(makeText('h4','link rel=&quot;' + ex[i].rel + '&quot; href=&quot;' + ex[i].href + '&quot;' + iff(' title=&quot;',ex[i].title,'&quot;'))); iframe=makeTag('iframe'); iframe.src=ex[i].href; add(iframe); break; } } void 0"
>view style sheets</a> 
(<img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>)
</h4><p class=shortdesc>Displays linked and embedded style sheets.</p> 
<p>Tip: since the style sheets are all in one window, you can quickly search them using your browser's Find feature.
 
<p>Loosely based on <a href="http://samrod.com/">Samrod Shenassa</a>'s "document info" bookmarklet.</p> 
 
<h4 class=transparent><a name="view_scripts" class="bml"
href="javascript:s=document.getElementsByTagName('SCRIPT'); d=window.open().document; /*140681*/d.open();d.close(); b=d.body; function trim(s){return s.replace(/^\s*\n/, '').replace(/\s*$/, ''); }; function add(h){b.appendChild(h);} function makeTag(t){return d.createElement(t);} function makeText(tag,text){t=makeTag(tag);t.appendChild(d.createTextNode(text)); return t;} add(makeText('style', 'iframe{width:100%;height:18em;border:1px solid;')); add(makeText('h3', d.title='Scripts in ' + location.href)); for(i=0; i&lt;s.length; ++i) { if (s[i].src) { add(makeText('h4','script src=&quot;' + s[i].src + '&quot;')); iframe=makeTag('iframe'); iframe.src=s[i].src; add(iframe); } else { add(makeText('h4','Inline script')); add(makeText('pre', trim(s[i].innerHTML))); } } void 0"
>view scripts</a> 
(<img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>)
</h4><p class=shortdesc>Displays linked and embedded scripts.</p> 
 
 
<h4 class=transparent><a name="view_variables" class="bml"
href="javascript:(function(){var x,d,i,v,st; x=open(); d=x.document; d.open(); function hE(s){s=s.replace(/&amp;/g,&quot;&amp;amp;&quot;);s=s.replace(/&gt;/g,&quot;&amp;gt;&quot;);s=s.replace(/&lt;/g,&quot;&amp;lt;&quot;);return s;} d.write(&quot;&lt;style&gt;td{vertical-align:top; white-space:pre; } table,td,th { border: 1px solid #ccc; } div.er { color:red }&lt;/style&gt;&lt;table border=1&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;Variable&lt;/th&gt;&lt;th&gt;Type&lt;/th&gt;&lt;th&gt;Value as string&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&quot;); for (i in window) { if (!(i in x) ) { v=window[i]; d.write(&quot;&lt;tr&gt;&lt;td&gt;&quot; + hE(i) + &quot;&lt;/td&gt;&lt;td&gt;&quot; + hE(typeof(window[i])) + &quot;&lt;/td&gt;&lt;td&gt;&quot;); if (v===null) d.write(&quot;null&quot;); else if (v===undefined) d.write(&quot;undefined&quot;); else try{st=v.toString(); if (st.length)d.write(hE(v.toString())); else d.write(&quot;%C2%A0&quot;)}catch(er){d.write(&quot;&lt;div class=er&gt;&quot;+hE(er.toString())+&quot;&lt;/div&gt;&quot;)}; d.write(&quot;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&quot;); } } d.write(&quot;&lt;/table&gt;&quot;); d.close(); })();"
>view variables</a> 
(<img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>, <img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16>)
</h4><p class=shortdesc>Displays all JavaScript variables and functions.</p> 
 
 
<h4 class=transparent><a name="list_classes" class="bml"
href="javascript:(function(){var a={},b=[],i,e,c,k,d,s=&quot;&lt;table border=1&gt;&lt;thead&gt;&lt;tr&gt;&lt;th&gt;#&lt;/th&gt;&lt;th&gt;Tag&lt;/th&gt;&lt;th&gt;className&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&quot;;for(i=0;e=document.getElementsByTagName(&quot;*&quot;)[i];++i)if(c=e.className){k=e.tagName+&quot;.&quot;+c;a[k]=a[k]?a[k]+1:1;}for(k in a)b.push([k,a[k]]);b.sort();for(i in b) s+=&quot;&lt;tr&gt;&lt;td&gt;&quot;+b[i][1]+&quot;&lt;/td&gt;&lt;td&gt;&quot;+b[i][0].split(&quot;.&quot;).join(&quot;&lt;/td&gt;&lt;td&gt;&quot;)+&quot;&lt;/td&gt;&lt;/tr&gt;&quot;;s+=&quot;&lt;/table&gt;&quot;;d=open().document;d.write(s);d.close();})()"
>list classes</a> 
(<img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16>, <img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>, <img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16>)
</h4><p class=shortdesc>Lists classes used in the document.</p> 
 
 
<h4 class=transparent><a name="generated_source" class="bml"
href="javascript:(function(){ function htmlEscape(s){s=s.replace(/&amp;/g,'&amp;amp;');s=s.replace(/&gt;/g,'&amp;gt;');s=s.replace(/&lt;/g,'&amp;lt;');return s;} x=window.open(); x.document.write('&lt;pre&gt;' + htmlEscape('&lt;html&gt;\n' + document.documentElement.innerHTML + '\n&lt;/html&gt;')); x.document.close(); })();"
>generated source</a> 
(<img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16>, <img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>)
</h4><p class=shortdesc>Displays the current DOM tree of the page as HTML.</p> 
<p>This bookmarklet is especially useful on pages created by javascript, because these pages have no original source.
 
<p>The generated source is usually similar to the original source, but may have small changes such as collapsed whitespace between tag attributes.</p> 
 
<h4 class=transparent><a name="partial_source" class="bml"
href="javascript:function getSelSource() { x = document.createElement(&quot;div&quot;); x.appendChild(window.getSelection().getRangeAt(0).cloneContents()); return x.innerHTML; } function makeHR() { return nd.createElement(&quot;hr&quot;); } function makeParagraph(text) { p = nd.createElement(&quot;p&quot;); p.appendChild(nd.createTextNode(text)); return p; } function makePre(text) { p = nd.createElement(&quot;pre&quot;); p.appendChild(nd.createTextNode(text)); return p; } nd = window.open().document; ndb = nd.body; if (!window.getSelection || !window.getSelection().rangeCount || window.getSelection().getRangeAt(0).collapsed) { nd.title=&quot;Generated Source of: &quot; + location.href; ndb.appendChild(makeParagraph(&quot;No selection, showing generated source of entire document.&quot;)); ndb.appendChild(makeHR()); ndb.appendChild(makePre(&quot;&lt;html&gt;\n&quot; + document.documentElement.innerHTML + &quot;\n&lt;/html&gt;&quot;)); } else { nd.title=&quot;Partial Source of: &quot; + location.href; ndb.appendChild(makePre(getSelSource())); }; void 0"
>partial source</a> 
(<img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>)
</h4><p class=shortdesc>Displays the current DOM tree of the selection as HTML.</p> 
<p>If you haven't selected anything, this bookmarklet will show the generated source of the entire page.</p> 
 
<h4 class=transparent><a name="serialize_as_xml" class="bml"
href="javascript:(function(){ function htmlEscape(s){s=s.replace(/&amp;/g,'&amp;amp;');s=s.replace(/&gt;/g,'&amp;gt;');s=s.replace(/&lt;/g,'&amp;lt;');return s;} var serializer = new XMLSerializer(); var source = serializer.serializeToString(document.documentElement, &quot;application/xml&quot;); var x=window.open('data:text/plain;charset=UTF-8,' + encodeURIComponent(source)); })();"
>serialize as xml</a> 
(<img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>, <img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16>)
</h4><p class=shortdesc>Displays the current DOM tree of the page as XML.</p> 
<p>After using this bookmarklet, you can save the result as .xml, .xhtml, .svg, etc.  Tested with XHTML+MathML and SVG.  Not for converting HTML to XHTML.</p> 
 
<p>Thanks to <a href="http://weblogs.mozillazine.org/weirdal/">WeirdAl</a> for helping me write this bookmarklet.</p> 
 
<h4 class=transparent><a name="show_blocks" class="bml"
href="javascript:(function(){var newSS; newSS=document.createElement(&quot;link&quot;); newSS.rel=&quot;stylesheet&quot;; newSS.type=&quot;text/css&quot;; newSS.href = &quot;http://www.cs.hmc.edu/~jruderma/block-structure.css&quot;; document.getElementsByTagName(&quot;head&quot;)[0].appendChild(newSS); })();"
>show blocks</a> 
(<img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16>, <img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>, <img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16>)
</h4><p class=shortdesc>Draws borders to show tables (colors indicate nesting), paragraphs, and divs.</p> 
<p>Paragraphs get a light gray border and divs get a black border.  The colors of table borders depend on nesting: outer tables are blue, second-level tables are green, and third-level and deeper tables are red.
 
<p>The bookmarklet works by applying <a href="http://www.cs.hmc.edu/~jruderma/block-structure.css">this style sheet</a> to the page.
 
<p>Suggested by <a href="http://homepages.tig.com.au/~mcgarry/paul/">Paul McGarry</a>.</p> 
 
<h4 class=transparent><a name="topographic_view" class="bml"
href="javascript:(function(){var s=&quot;body&quot;,c=&quot;&quot;,I=&quot; ! important;&quot;,i,b,f,x,h; for(i=0;i&lt;17;++i) { x = i.toString(16); b = i&gt;15?&quot;FCC&quot;:x+x+x; f = i&gt;9?&quot;000&quot;:&quot;FFF&quot;; c += s + &quot; {background: #&quot; + b + I + &quot;border-color: #&quot; + b + I + &quot;color: #&quot; + f + I + &quot;}\n&quot;; s += &quot; *&quot;; } if(document.createStyleSheet) { document.createStyleSheet(&quot;javascript:'&quot;+c+&quot;'&quot;); } else { h=document.createElement('link'); h.rel='stylesheet'; h.href='data:text/css,'+escape(c); document.getElementsByTagName(&quot;head&quot;)[0].appendChild(h);}})()"
>topographic view</a> 
(<img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16>, <img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>, <img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16>)
</h4><p class=shortdesc>Shows the nesting level of every element using shading.</p> 
<p>Shades the BODY element black, children of the body dark gray, and so on for up to fifteen layers of nesting.  Beyond sixteen layers of nesting, shades every element pink (instead of white).
 
<p>Since each element is slightly lighter than its parent, it is easy to see the extent of each element at a glance.  The overall brightness of a page can give you an idea of how complex a page's markup is.  Since this bookmarklet doesn't add borders, it preserves layout to the pixel.
 
<p>Based on a <a href="http://www.make-believe.org/posts/04/04/01/0">bookmarklet</a> by <a href="http://www.make-believe.org/">Joseph Pearson</a>.  Joseph's version works by recursing through the document, and works with more browsers (including Safari).  This version works by adding a CSS style sheet, and is faster in IE and Mozilla.</p> 
 
<h4 class=transparent><a name="topo_with_borders" class="bml"
href="javascript:(function(){var s=&quot;body&quot;,c=&quot;&quot;,I=&quot; ! important;&quot;,i,b,f,x,h; for(i=0;i&lt;17;++i) { x = i.toString(16); b = i&gt;15?&quot;FCC&quot;:x+x+x; f = i&gt;9?&quot;000&quot;:&quot;FFF&quot;; c += s + &quot; {background: #&quot; + b + I + &quot;border: 1px outset #&quot; + b + I + &quot;color: #&quot; + f + I + &quot;}\n&quot;; s += &quot; *&quot;; } if(document.createStyleSheet) { document.createStyleSheet(&quot;javascript:'&quot;+c+&quot;'&quot;); } else { h=document.createElement('link'); h.rel='stylesheet'; h.href='data:text/css,'+escape(c); document.getElementsByTagName(&quot;head&quot;)[0].appendChild(h);}})()"
>topo with borders</a> 
(<img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>, <img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16>)
</h4><p class=shortdesc>Shows the nesting level of every element using shading and 3D borders.</p> 
<p>Like "topographic view", but sacrifices perfect layout preservation for a more 3D look.</p> 
 
<h4 class=transparent><a name="make_link" class="bml"
href="javascript:function htmlEscape(s){s=s.replace(/&amp;/g,'&amp;amp;');s=s.replace(/&gt;/g,'&amp;gt;');s=s.replace(/&lt;/g,'&amp;lt;');return s;} function linkEscape(s){s=s.replace(/&amp;/g,'&amp;amp;');s=s.replace(/&quot;/,'&amp;quot;');return s} h = '&lt;a href=&quot;' + linkEscape(location.href) + '&quot;&gt;' + htmlEscape(document.title) + '&lt;/a&gt;'; with(window.open().document){write(h+'&lt;form name=f&gt;&lt;textarea  name=a rows=5 cols=80 wrap=hard&gt;'+htmlEscape(h)+'&lt;/textarea&gt;&lt;/form&gt;'); close(); f.a.select(); } void 0"
>make link</a> 
(<img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16>, <img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>, <img src="icons/FFF6ED/ns4.PNG" alt="NS4" width=16 height=16>, <img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16>)
</h4><p class=shortdesc>Creates the HTML code to link to the current page.</p> 
 
 
<h4 class=transparent><a name="make_img_tag" class="bml"
href="javascript:(function() { function htmlEscape(s){s=s.replace(/&amp;/g,'&amp;amp;');s=s.replace(/&gt;/g,'&amp;gt;');s=s.replace(/&lt;/g,'&amp;lt;');return s;} var img = document.images[0]; var textToCopy = '&lt;img width=&quot;' + (img.naturalWidth || img.width) + '&quot; height=&quot;' + (img.naturalHeight || img.height) + '&quot; src=&quot;' + htmlEscape(img.src) + '&quot; alt=&quot;&quot; /&gt;\n'; document.close(); document.write(&quot;&lt;form name=f&gt;&lt;textarea name=ta cols=80 rows=5&gt;&lt;/textarea&gt;&lt;/form&gt;&quot;); document.close(); document.f.ta.value = textToCopy; document.f.ta.select(); })()"
>make img tag</a> 
(<img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>, <img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16>)
</h4><p class=shortdesc>Creates the XHTML code to include the current image.</p> 
 
 
<h4 class=transparent><a name="named_anchors" class="bml"
href="javascript:(function(){var atags,i,name,a; anchs = document.anchors; for(i=0; i&lt;anchs.length; ++i) { a = anchs[i]; name = a.name; a.appendChild(document.createTextNode(&quot;#&quot; + name)); a.style.border = &quot;1px solid&quot;; a.href = &quot;#&quot; + name; } })();"
>named anchors</a> 
(<img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16>, <img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>, <img src="icons/FFF6ED/op7.PNG" alt="Op7" width=16 height=16>)
</h4><p class=shortdesc>Makes anchors visible, letting you link to or bookmark a section of a page.</p> 
<p>This is useful if a long page has named anchors but no table of contents linking to those anchors, and you want to make a link to the middle of the page.
 
<p><b>Problems:</b> Some pages have unclosed named anchors, which will cause a large portion of the page to be marked by this bookmarklet.  HTML 3.2 and 4.0 both require end tags for the &lt;a&gt; element, but many browsers silently recover when pages leave out these end tags on named anchors, so many pages leave off the end tags anyway.</p> 
 
<h4 class=transparent><a name="onerror_status" class="bml"
href="javascript:(function() { var i=0; window.onerror = function(m,u,n) { window.status = &quot;JS Error #&quot; + ++i + &quot;: '&quot; + m + &quot;' &quot; + (/^javascript:/(u) ? &quot;(bookmarklet)&quot; : &quot;(line &quot; + n + &quot; of &quot; + u + &quot;)&quot;); return true;/*suppress default error message*/ }})();"
>onerror status</a> 
(<img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16>, <img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>, <img src="icons/FFF6ED/ns4.PNG" alt="NS4" width=16 height=16>)
</h4><p class=shortdesc>When a JavaScript error occurs, shows the error message in the status bar.</p> 
<p>Sets an onerror handler so that when a javascript error occurs, the error appears in the status bar.  To test, <a class=bml href="javascript:t.t">make an error occur</a>.</p> 
 
<h4 class=transparent><a name="onerror_alert" class="bml"
href="javascript:window.onerror = function(m,u,n) { alert(&quot;JS error: &quot; + m + (/^javascript:/(u) ? &quot;\n\n(bookmarklet)&quot; : &quot;\n\nLine &quot; + n + &quot; of \n&quot; + u)); return true;/*suppress default error message*/ }; void 0"
>onerror alert</a> 
(<img src="icons/FFF6ED/ie.PNG" alt="IE" width=16 height=16>, <img src="icons/FFF6ED/phx.PNG" alt="Moz" width=16 height=16>, <img src="icons/FFF6ED/ns4.PNG" alt="NS4" width=16 height=16>)
</h4><p class=shortdesc>When a JavaScript error occurs, shows the error message in a dialog.</p> 
<p>Sets an onerror handler so that when a javascript error occurs, the error appears in a dialog.  To test, <a class=bml href="javascript:t.t">make an error occur</a>.</p> 
 
<hr><p><i><a href="copyright.html">&copy;</a> 2000-2007 <a href="http://www.squarefree.com/">Jesse Ruderman</a> (<a href="mailto:jruderman@gmail.com">jruderman@gmail.com</a>). Feedback is welcome.<br> 
Last modified November 1, 2006.</i></p> 
 
</body> 
</html> 
