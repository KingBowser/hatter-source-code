<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta, title, CSS, favicons, etc. -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>JSR-133写给编译器作者的菜谱 - P.ROGRAM.ME</title>

    <!-- Bootstrap core CSS -->
    <link href="/assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="/assets/prettify/prettify.css" rel="stylesheet">
    <link href="/assets/scrollToTop/scrollToTop.css" rel="stylesheet">

    <!-- Documentation extras -->
    <link href="/assets/css/docs.css" rel="stylesheet">
    <link href="/assets/css/pygments-manni.css" rel="stylesheet">
    <!--[if lt IE 9]><script src="/assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="/assets/js/html5shiv.js"></script>
      <script src="/assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    
    
    <link rel="shortcut icon" href="/assets/img/favicon.p.png">
    
    
    
  </head>
  <body onload="prettyPrint();">
    <a class="sr-only" href="#content">Skip to main content</a>
    <a href="#top" id="toTop" style="z-index:999999;"></a>

    <!-- Docs master nav -->
    <header class="navbar navbar-inverse navbar-fixed-top bs-docs-nav" role="banner">
      <div class="container">
        <div class="navbar-header">
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target=".bs-navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a href="/" class="navbar-brand">P.ROGRAM.ME</a>
        </div>
        <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation">
        
          
          <ul class="nav navbar-nav ">
			
			  
			    
			    
			        <li >
		              <a href="/">首页</a>
		            </li>
		        
			  
			    
			    
		           
		           <li class="dropdown active">
		             <a href="#" class="dropdown-toggle" data-toggle="dropdown">Java <b class="caret"></b></a>
		             <ul class="dropdown-menu">
		             
		               
		               
		                 <li ><a href="/java.study.list/">Java工程师学习列表</a></li>
		               
		             
		               
		               
		                 <li class="divider"></li>
		               
		             
		               
		               
		                 <li ><a href="/java.memory.model/">Java内存模型</a></li>
		               
		             
		               
		               
		                 <li class="active"><a href="/jsr133.cookbook/">The JSR-133 Cookbook for Compiler Writers</a></li>
		               
		             
		               
		               
		                 <li class="divider"></li>
		               
		             
		               
		               
		                 <li ><a href="/java.link/">Java相关链接</a></li>
		               
		             
		             </ul>
		           </li>
		        
			  
			    
			    
		           
		           <li class="dropdown ">
		             <a href="#" class="dropdown-toggle" data-toggle="dropdown">HTML5 <b class="caret"></b></a>
		             <ul class="dropdown-menu">
		             
		               
		               
		                 <li ><a href="/html5.link/">HTML5相关链接</a></li>
		               
		             
		             </ul>
		           </li>
		        
			  
			    
			    
		           
		           <li class="dropdown ">
		             <a href="#" class="dropdown-toggle" data-toggle="dropdown">工具 <b class="caret"></b></a>
		             <ul class="dropdown-menu">
		             
		               
		               
		                 <li ><a href="/java.tool/">Java工具</a></li>
		               
		             
		               
		               
		                 <li ><a href="/hatters.java.tool/">Hatter的Java工具</a></li>
		               
		             
		               
		               
		                 <li ><a href="/3rd.java.tool/">第三方Java工具</a></li>
		               
		             
		               
		               
		                 <li class="divider"></li>
		               
		             
		               
		               
		                 <li ><a href="/hatters.tool/">Hatter的小工具</a></li>
		               
		             
		             </ul>
		           </li>
		        
			  
			    
			    
			        <li >
		              <a href="/recruitment/">招聘</a>
		            </li>
		        
			  
			
          </ul>
          
          
          <ul class="nav navbar-nav navbar-right">
			
			  
			    
			    
			        <li >
		              <a href="/about/">关于</a>
		            </li>
		        
			  
			
          </ul>
          
        </nav>
      </div>
    </header>

    
    <!-- Docs page layout -->
    <div class="bs-header" id="content">
      <div class="container">
        <h2>The JSR-133 Cookbook for Compiler Writers</h2>
<p>by <a href="http://gee.cs.oswego.edu/dl" target="_blank">Doug Lea</a>, with help from members of the <a href="http://www.cs.umd.edu/~pugh/java/memoryModel/" target="_blank">JMM mailing list</a>.
<br  />&ndash; <a href="http://gee.cs.oswego.edu/dl" target="_blank">Doug Lea</a>，在<a href="http://www.cs.umd.edu/~pugh/java/memoryModel/" target="_blank">JMM邮件列表</a>成员们的帮助下完成。</p>

        
      </div>
    </div>
    

    
    <!-- Callout for the old docs link -->
    <div class="bs-old-docs">
      <div class="container">
        <p><strong>Preface: Over the 10+ years since this was initially written, many processor and language memory model specifications and issues have become clearer and better understood. And many have not. While this guide is maintained to remain accurate, it is incomplete about some of these evolving details. For more extensive coverage, see especially the work of Peter Sewell and the <a href="http://www.cl.cam.ac.uk/~pes20/weakmemory/index.html" target="_blank">Cambridge Relaxed Memory Concurrency Group</a></strong>
<br  /><strong>前言：从最初开始写这个文件以来的过去10几年里，很多处理器和语言内存模型标准和问题已经被描述的很清晰且更容易被读懂。</strong></p>
<p>This is an unofficial guide to implementing the new Java Memory Model (JMM) specified by JSR-133 . It provides at most brief backgrounds about why various rules exist, instead concentrating on their consequences for compilers and JVMs with respect to instruction reorderings, multiprocessor barrier instructions, and atomic operations. It includes a set of recommended recipes for complying to JSR-133. This guide is &ldquo;unofficial&rdquo; because it includes interpretations of particular processor properties and specifications. We cannot guarantee that the intepretations are correct. Also, processor specifications and implementations may change over time.</p>

        
      </div>
    </div>
    


    <div class="container bs-docs-container">
      
      <!-- DOC BODY START
      ================================================== -->
      <div class="row">
        <div class="col-md-3">
          <div class="bs-sidebar hidden-print" role="complementary">
            <ul class="nav bs-sidenav">
              
                
                  <li>
                  
                  <a href="#reorderings">Reorderings</a>
                  
                  
                    <ul class="nav">
                    
                      
                      <li><a href="#reorderings--volatile-and-monitors"> Volatiles and Monitors</a></li>
                    
                    </ul>
                  
                  </li>
                
              
              
            </ul>
          </div>
        </div>
        <div class="col-md-9" role="main">

          
            
              
              <!-- reorderings
              ================================================== -->
              <div class="bs-docs-section">
                <div class="page-header">
                  <h1 id="reorderings">Reorderings(指令重排)</h1>
                </div>
                <p class="lead"><p>For a compiler writer, the JMM mainly consists of rules disallowing reorderings of certain instructions that access fields (where &ldquo;fields&rdquo; include array elements) as well as monitors (locks).
<br  />对于写编译器的人来说，Java内存模型，&hellip;&hellip;</p>
</p>
                
                
                  
                    
                    <h3 id="reorderings--volatile-and-monitors" style="padding-top:60px;"> Volatiles and Monitors</h3>
                    <p>The main JMM rules for volatiles and monitors can be viewed as a matrix with cells indicating that you cannot reorder instructions associated with particular sequences of bytecodes. This table is not itself the JMM specification; it is just a useful way of viewing its main consequences for compilers and runtime systems.</p>

                  
                
              </div>
            
          
          

          <!-- End Content
          ================================================== -->
        </div>
      </div>
      
      <!-- DOC BODY END
      ================================================== -->
    </div>

    <!-- Footer
    ================================================== -->
    <footer class="bs-footer" role="contentinfo">
      <div class="container">
        <p><a href="http://gee.cs.oswego.edu/dl" target="_blank">Doug Lea</a></p>
<p>Last modified: Tue Mar 22 07:11:36 EDT 2011</p>

        
      </div>
    </footer>

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="/assets/js/jquery.min.js"></script>
    <script src="/assets/js/bootstrap.js"></script>
    <script src="/assets/js/holder.js"></script>
    <script src="/assets/js/application.js"></script>
    <script src="/assets/prettify/prettify.js"></script>
    <script src="/assets/scrollToTop/jquery.scrollToTop.min.js"></script>
    <script type="text/javascript">
      $(function() {
        $("#toTop").scrollToTop();
      });
    </script>
  </body>
</html>

