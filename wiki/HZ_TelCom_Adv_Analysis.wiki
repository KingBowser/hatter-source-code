#summary 杭州电信广告推送分析

{{{
Server: Apache/2.2.21 (Unix) DAV/2 mod_jk/1.2.32
}}}

{{{
java.lang.NumberFormatException: For input string: "20147x7"
     java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)
     java.lang.Integer.parseInt(Integer.java:456)
     java.lang.Integer.valueOf(Integer.java:553)
     com.huawei.ipush.adserver.web.PushDoneServlet.doGet(PushDoneServlet.java:57)
     javax.servlet.http.HttpServlet.service(HttpServlet.java:617)
     javax.servlet.http.HttpServlet.service(HttpServlet.java:717)
Apache Tomcat/6.0.18
}}}

{{{
http://220.191.158.69:10010/a/s?
 f=adstyle_msn.html // 广告类型（风格），MSN弹出式
&adid=201477 // 广告ID
&tcca=XXXXXXXXXXXXX // base64: ??????????? 账号即登陆者的电话号码（为了保密这里不给出）
&urip=XXXXXXXX // 10进制的IP地址
&orlu=aHR0cDovL3QuY24vYTBEV2dK // base64: http://t.cn/a0DWgJ 用户访问的URL
&spid=1096691091
&area=82
&ts=1345346067
&aorlu=aHR0cDovL3BhZ2UuNzZtaS5jb20vZzUwL3pqL3pqX3B0NDNfNzIwLmh0bQ==
// base64: http://page.76mi.com/g50/zj/zj_pt43_720.htm 广告商URL
&p1arm=300 // 弹出广告的高度
&p2arm=400 // 弹出广告的宽度
&p3arm=0
&p4arm=5
&p5arm=3
&p6arm=1
&appd=0 // 广告应用类型，如是为：
        // 1 传送访问的网址给广告商
        // 2 传送你的账号（电话号码）给广告商
        // 3 传送你的账号（电话号码）及网址给广告商
&hasCount=1 // 为1时也会向广告商发送你的账号（电话号码）和网址给广告商
&hasWhiteUser=0
}}}


{{{
// adurl 广告商地址
// g 用户访问的URL
// realAct 用户的账号（即电话号码）
if (appd == 1) {
    adurl = appendParam(adurl, "param=" + encodeStr("url=" + g));
} else if (appd == 2) {
    adurl = appendParam(adurl, "param=" + encodeStr("account=" + realAct));
} else if (appd == 3) {
    adurl = appendParam(adurl, "param=" + encodeStr("account=" + realAct + "&url=" + g));
}
}}}