#summary Linux Study
#sidebar TableOfContents

{{{
$ which tail
/usr/bin/tail
$ dpkg -S /usr/bin/tail
coreutils: /usr/bin/tail
$ apt-get source coreutils
}}}

{{{
python -m SimpleHTTPServer
}}}

{{{
cat a b | sort | uniq > c   # c 是a和b的合集
cat a b | sort | uniq -d > c   # c 是a和b的交集
cat a b b | sort | uniq -u > c   # c 是a和b的不同

cat x | sort | uniq -c | sort -rn

汇总一个文本内容里第三列数字的和(这个方法要比用Python来做快3倍并只需1/3的代码量)：
awk '{ x += $3 } END { print x }' myfile
}}}


{{{
rsync -vrlHpgtSe ssh --exclude=.svn --delete /localdir/ name@host:/remotedir/
rsync -auvz --delete .. ..
}}}

iptables
{{{
/etc/sysconfig/iptables
iptables --list
service iptables restart
}}}

{{{
wget --mirror --directory-prefix=<your directory> http://www.example.com
}}}

date
{{{
date +%Y%m%d
}}}

iconv
{{{
iconv -f GBK -t utf-8 a.txt > b.txt
}}}

Alias commands:
{{{
alias ll='ls -l'

alias j='java -jar'

alias vir='vi -R'

alias svnaddall='svn st | grep ? | awk '\''{print $2}'\'' | xargs svn add'
alias svnrmall='svn st | grep ! | awk '\''{print $2}'\'' | xargs svn rm'

alias mci='mvn clean install -Dmaven.test.skip'
alias mcp='mvn clean package -Dmaven.test.skip'
alias mct='mvn clean test'
alias mee='mvn eclipse:clean eclipse:eclipse'
}}}

for-in  [http://www.cyberciti.biz/faq/bash-for-loop/]
{{{
for i in {1..5}
do
   echo "Welcome $i times"
done

for i in {0..10..2}
  do
     echo "Welcome $i times"
 done

for i in $(seq 1 2 20)
do
   echo "Welcome $i times"
done

for (( EXP1; EXP2; EXP3 ))
do
	command1
	command2
	command3
done

for (( c=1; c<=5; c++ ))
do
   echo "Welcome $c times"
done

for OUTPUT in $(Linux-Or-Unix-Command-Here)
do
	command1 on $OUTPUT
	command2 on $OUTPUT
	commandN
done
}}}


X11 DISPLAY ^[1]^
{{{
$ export DISPLAY=<ip>:0.0

$ xhost +
$ xhost +<ip>
}}}

gdb _pstack_
{{{
gdb -p pid

thread apply all bt


gdb \
    -ex "set pagination 0" \
    -ex "thread apply all bt" \
    --batch -p $(pidof mysqld)
}}}

ps
{{{
ps H -eo user,pid,ppid,tid,time,%cpu,cmd --sort=%cpu
}}}

{{{
tcpdump 命令常用参数说明 :
-i 网络接口
-w 保存文件名称
-s snaplen
-r 读取分析的文件名称
常用例子：tcpdump -i eth0 tcp port 8000 -s 0 -w cap.cap  
例子说明：
不加-s 0 参数数据包默认捕获数据信息不完整。
保存文件名称为.cap 后缀，可以使用开源分析工具wireshark 对抓到的数据包进行分析 ，wireshark 支持多种网络协议和分析方式。
}}}

Crontab:
 [http://www.abunchofutils.com/utils/developer/cron-expression-helper/]

Mac OS X:
{{{
curl -O http://ftp.gnu.org/gnu/wget/wget-1.13.4.tar.gz
}}}

打开命令的退出值:
{{{
cmd; echo $?
}}}

{{{
sar
top
iostat
vmstat
dstat
lsof
htop
netstat
ulimit
mpstat

pstree -p <PID>

ping
nslookup
dig
whois

ldd xxx.so  查看依赖关系
nm 查看符号表信息
pmap 打印地址空间映射
pwdx 打开工作目录
pstack
strings
objdump
http://valgrind.org/docs/manual/manual.html
}}}

系统操作日志：
{{{
/var/log/sysadmin.log
}}}


普通用户以root权限跑程序：
{{{
rwsr-s--x root root

chgrp root _file_name_
chown root _file_name_
chmod 6751 _file_name_
}}}


{{{
sync  同步cache

释放cache
echo 3 > /proc/sys/vm/drop_caches
}}}


查看指定进程的环境变量：
{{{
tr \\0 \\n </proc/PID/environ

ps eww -p PID
}}}


{{{
sed 's/aaa/bbb/g' file.name.txt 
}}}


`/etc/fstab`
`http://smilejay.com/2011/03/fstab/`

<br><br>
===参考资料===
`[1].` http://www.hungry.com/~jamie/xexport.html<br>
`[2].` http://smilejay.com/2011/03/fstab/<br>
`[3].` http://www.cnblogs.com/liuhao/archive/2012/11/13/2768898.html<br>
`[4].` http://www.aqee.net/what-are-the-most-useful-swiss-army-knife-one-liners-on-unix/<br>
`[5].` http://linux.cn/portal-view-aid-211.html<br>